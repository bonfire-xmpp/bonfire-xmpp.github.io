(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{102:function(t,e,n){"use strict";var r={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(n(393),n(9)),c=n(15),l=n.n(c),d=n(568),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;l()(component,{VApp:d.a})},160:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(7),o=n(0),c=(n(63),n(24),n(34)),l=n(5);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"Avatar",props:{size:Number|String,jid:String},methods:f({},Object(c.b)({getAvatar:l.Store.$actions.getAvatar})),computed:f(f({},Object(c.e)({avatars:l.Store.$states.avatars})),{},{avatar:function(){return this.avatars[this.$stanza.toBare(this.jid)]},color:function(){return"hsl(".concat(this.jid.charCodeAt(0)||20+this.jid.charCodeAt(7)||92,",")+"".concat(Math.min(this.jid.charCodeAt(0)*this.jid.length,60),"%,")+"".concat(Math.min(this.jid.charCodeAt(1)*this.jid.length,60),"%)")}}),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getAvatar({jid:t.jid});case 1:case"end":return e.stop()}}),e)})))()}},v=n(9),h=n(15),D=n.n(h),y=n(575),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.avatar?n("v-img",{staticClass:"rounded-circle",attrs:{width:t.size,height:t.size,src:t.avatar,eager:"",transition:!1},on:{click:function(e){return t.$emit("click",e)}}}):n("default-avatar",{attrs:{size:t.size,color:t.color},on:{click:function(e){return t.$emit("click",e)}}})}),[],!1,null,null,null);e.default=component.exports;D()(component,{DefaultAvatar:n(550).default}),D()(component,{VImg:y.a})},193:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(0),o=n(40),c=n(5),l=n(52),d=n(34);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"RosterItem",components:{Avatar:n(160).default},props:{item:{type:Object,required:!0},selected:{type:Boolean,required:!1,default:!1}},computed:m(m(m({},Object(d.c)({getPresence:c.Store.$getters.presence})),{},{name:function(){return this.$stanza.getLocal(this.item.jid)},domain:function(){return this.$stanza.getDomain(this.item.jid)},presence:function(){return this.getPresence(this.item.jid)},available:function(){var t;return null===(t=this.presence)||void 0===t?void 0:t.available},statusMessage:function(){var t;return null===(t=this.presence)||void 0===t?void 0:t.status},onlineStatus:function(){var t,e;return this.available?null!==(t=this.presence)&&void 0!==t&&t.show||!this.available?null===(e=this.presence)||void 0===e?void 0:e.show:"online":"offline"}},Object(d.e)(l.MessageStore.namespace,{chatComposing:l.MessageStore.$states.chatComposing})),{},{isTyping:function(){return this.chatComposing[o.a.toBare(this.item.jid)]}})},h=(n(472),n(9)),D=n(15),y=n.n(D),w=n(227),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex"},[n("span",{staticClass:"gutter indicator-light border-circle-right flex-shrink-0",class:t.selected?"grey-800":""}),t._v(" "),n("div",{staticClass:"flex-grow-1 hide-overflow d-flex rounded main",attrs:{"aria-selected":t.selected}},[n("nuxt-link",{staticClass:"reset-link flex-grow-1 d-flex hide-overflow",attrs:{to:"/chat/"+t.item.jid}},[n("div",{staticClass:"align-content-center-inline ml-2",staticStyle:{width:"36px"}},[n("badged-avatar",{attrs:{size:36,jid:t.item.jid,color:t.onlineStatus}},[t.isTyping?n("typing-spinner",{staticClass:"small",attrs:{color:t.onlineStatus}}):t._e()],1)],1),t._v(" "),n("div",{staticClass:"main-container ml-2 pr-2 flex-grow-1 my-auto hide-overflow"},[n("span",[n("span",{class:t.selected?"":"grey-700--text"},[t._v("\n              "+t._s(t.name)+"\n            ")]),t._v(" "),n("span",{staticStyle:{"margin-left":"-2px","margin-right":"-2px"}},[n("v-icon",{staticClass:"no-transition",attrs:{color:t.selected?"white":"grey-400",size:"1em"}},[t._v("mdi-at")])],1),n("span",{class:t.selected?"":"grey-400--text"},[t._v("\n              "+t._s(t.domain)+"\n            ")])]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"grey-700--text",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.statusMessage))])])]),t._v(" "),n("div",{staticClass:"my-auto mr-2 options-slot"},[t._t("default",[n("div",{staticClass:"options-container"},[t._t("options")],2)])],2)],1),t._v(" "),n("span",{staticClass:"gutter flex-shrink-0"})])}),[],!1,null,"6c8b4706",null);e.default=component.exports;y()(component,{TypingSpinner:n(362).default,BadgedAvatar:n(262).default}),y()(component,{VIcon:w.a})},225:function(t,e,n){"use strict";n.r(e),n.d(e,"populateSearchIndex",(function(){return y})),n.d(e,"search",(function(){return F})),n.d(e,"searchBlock",(function(){return E}));var r=n(7),o=n(18);n(63),n(310),n(43),n(86),n(14),n(59),n(77),n(446),n(58),n(38),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(25),n(42),n(48),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(36),n(10),n(60),n(67);function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d=n(467),f=new RegExp(/\s+/),m=new RegExp(/(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u05CF\u05EB-\u05EE\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08C8-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D03\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1879-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1CFB-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD834\uD836\uD837\uD839\uD83C-\uD83F\uD87B-\uD87D\uD87F\uD885-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD838[\uDC00-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDEBF\uDEEC-\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g),v=function(t){return t.split(f).map((function(t){return t.replaceAll(m,"").toLowerCase()})).filter((function(t){return!!t.length}))},h=function(t){return Array.from(new Set(t.split(f).map((function(t){return t.replaceAll(m,"").toLowerCase().slice(0,4)})))).filter((function(t){return!!t.length}))};function D(t){var e,n=new Map,r=c(t);try{for(r.s();!(e=r.n()).done;){var l,d=c(e.value);try{for(d.s();!(l=d.n()).done;){var f=l.value;n.has(f)||n.set(f,0),n.set(f,n.get(f)+1)}}catch(t){d.e(t)}finally{d.f()}}}catch(t){r.e(t)}finally{r.f()}return Array.from(n.entries()).filter((function(e){return Object(o.a)(e,2)[1]>.6*(t.length-1)})).map((function(t){return Object(o.a)(t,1)[0]}))}function y(t,e,n){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(regeneratorRuntime.mark((function t(e,n,o){var l,d,f,m,v,D,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=new Set,d=c(o);try{for(d.s();!(f=d.n()).done;){m=f.value,v=c(h(m.body));try{for(v.s();!(D=v.n()).done;)y=D.value,l.add(y)}catch(t){v.e(t)}finally{v.f()}}}catch(t){d.e(t)}finally{d.f()}return t.next=5,e.transaction("rw",e.prefixIndex,Object(r.a)(regeneratorRuntime.mark((function t(){var r,o,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c(l),t.prev=1,d=regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.value,c=e.prefixIndex.where("prefix").equals(r),t.next=4,c.count().then((function(t){!t&&e.prefixIndex.add({prefix:r,blocks:[]})})).then((function(){c.modify((function(t){return t.blocks.push(n)}))}));case 4:case"end":return t.stop()}}),t)})),r.s();case 4:if((o=r.n()).done){t.next=8;break}return t.delegateYield(d(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),r.e(t.t1);case 13:return t.prev=13,r.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,db.prefixIndex.where("prefix").startsWithAnyOf(h(e)).toArray();case 2:return n=t.sent,t.abrupt("return",db.messageArchive.where("id").anyOf(D(n.map((function(t){return(null==t?void 0:t.blocks)||[]})))).toArray());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){var n,r=0,o=new d(v(t)),l=c(e);try{for(l.s();!(n=l.n()).done;){var f=n.value,m=o.get(f),h=m.value,D=m.distance;h&&(r+=D*(h.length/f.length))}}catch(t){l.e(t)}finally{l.f()}return r/e.length}var E=function(t,e){return t.map((function(t){return[t,S(t.body,v(e))]})).filter((function(t){return Object(o.a)(t,2)[1]>.6})).sort((function(t,e){var n=Object(o.a)(t,2)[1];return Object(o.a)(e,2)[1]-n})).map((function(t){return Object(o.a)(t,1)[0]}))}},232:function(t,e,n){"use strict";n.r(e);var r={name:"AccordionItem",props:{header:String,expanded:Boolean},computed:{chevronRotation:function(){return"rotate(".concat(this.expanded?90:0,"deg)")}}},o=(n(425),n(9)),c=n(15),l=n.n(c),d=n(227),f=n(569),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column accordion-item",class:{"flex-grow-1":t.expanded}},[t._t("header",[n("div",{staticClass:"accordion--header px-2 d-flex align-center clickable grey-900--text light-shadow",staticStyle:{"z-index":"2"},on:{click:function(e){return t.$emit("expanded")}}},[n("span",[t._v(t._s(t.header))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{style:{transform:t.chevronRotation},attrs:{size:"16px",color:"grey-900"}},[t._v("mdi-chevron-right")])],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"flex-grow-1 d-flex flex-column",staticStyle:{"flex-basis":"0","min-height":"0"}},[t._t("default")],2)],2)}),[],!1,null,"f55206d0",null);e.default=component.exports;l()(component,{VIcon:d.a,VSpacer:f.a})},233:function(t,e,n){"use strict";n.r(e);var r={name:"RosterSection",props:{name:String,color:String,items:Array,pending:Boolean,selected:{type:Array,optional:!0,default:[]}},methods:{approve:function(t){this.$stanza.client.acceptSubscription(t.jid)},reject:function(t){this.$stanza.client.denySubscription(t.jid)}}},o=n(9),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items&&t.items.length?n("contractible-list",{attrs:{title:t.name+" ("+t.items.length+")"},scopedSlots:t._u([t.selected.length?{key:"contracted",fn:function(){return[n("roster-item",{attrs:{item:t.items[t.selected[0]],selected:"",approve:t.pending}})]},proxy:!0}:null],null,!0)},[t._l(t.items,(function(e,i){return[e?n("roster-item",{key:i,class:i&&"mt-1",attrs:{item:e,selected:t.selected.includes(i),approve:t.pending}}):t._e()]}))],2):t._e()}),[],!1,null,"04311cfe",null);e.default=component.exports;installComponents(component,{RosterItem:n(551).default,ContractibleList:n(554).default})},234:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(0),o=n(235),c=n(103),l=n(34),d=n(5),f=n(70);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(c.b)("#app");var h={name:"status-menu-tooltip",components:{Portal:c.a,CustomStatusModal:o.default},props:{value:Boolean,attach:String},data:function(){return{customStatusModal:!1}},computed:v(v(v({},Object(l.e)({currentStatus:d.Store.$states.statusMessage})),Object(l.e)(f.SettingsStore.namespace,{resourcePriorityV:f.SettingsStore.$states.resourcePriority})),{},{resourcePriority:{get:function(){return this.resourcePriorityV},set:function(t){this.setResourcePriority(t)}},statusMenu:function(){var t=this;return[{icon:"mdi-circle",title:"Online",color:"online",handler:function(){return t.changeStatus("online")}},{divider:!0},{icon:"mdi-circle",title:"Away",color:"away",handler:function(){return t.changeStatus("away")}},{icon:"mdi-circle",title:"Extended Away",color:"xa",handler:function(){return t.changeStatus("xa")}},{icon:"mdi-circle",title:"Do Not Disturb",color:"dnd",handler:function(){return t.changeStatus("dnd")}},{icon:"mdi-circle",title:"Invisible",color:"offline",handler:function(){return t.changeStatus("invisible")}}]}}),methods:v(v({},Object(l.d)(f.SettingsStore.namespace,{setResourcePriority:"SET_"+f.SettingsStore.$states.resourcePriority})),{},{changeStatus:function(t){if("invisible"===t)return this.$stanza.goInvisible();this.$stanza.setOnlineStatus(t)},clearStatusMessage:function(){this.$stanza.setStatusMessage("")}}),watch:{value:function(t){this.$device.isMobileOrTablet&&t&&(this.$refs.bottomSheet.open(),this.$emit("input",!1))}}},D=(n(526),n(9)),y=n(15),w=n.n(y),F=n(577),x=n(571),S=n(227),E=n(228),C=n(151),O=n(229),A=n(54),j=n(572),component=Object(D.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$device.isMobileOrTablet?n("portal",{attrs:{selector:"#app"}},[n("bottom-sheet",{ref:"bottomSheet",staticClass:"position-relative",staticStyle:{"z-index":"50"},attrs:{items:t.statusMenu,divider:!1,"icon-size":"0.9em"}},[n("v-divider",{staticClass:"mx-4 my-2"}),t._v(" "),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){e.stopPropagation(),t.customStatusModal=!0}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"white",size:"1.33em"}},[t._v("mdi-file-edit")]),t._v(" "),n("v-list-item-title",{staticClass:"white--text",staticStyle:{"font-size":"1em"}},[t._v(t._s(t.currentStatus||"Edit custom status"))]),t._v(" "),t.currentStatus?n("v-list-item-action",[n("v-btn",{attrs:{icon:"",height:"1em",width:"1.33em",ripple:!1,plain:""},on:{click:function(e){return e.stopPropagation(),t.clearStatusMessage(e)}}},[n("v-icon",{attrs:{size:"1.33em",color:"white"}},[t._v("mdi-close-circle")])],1)],1):t._e()],1),t._v(" "),n("v-list-item",{attrs:{ripple:!1},on:{click:function(t){t.stopPropagation()}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"white",size:"1.33em"}},[t._v("mdi-reorder-horizontal")]),t._v(" "),n("v-list-item-title",{staticClass:"white--text",staticStyle:{"font-size":"1em"}},[t._v("Resource Priority: ")]),t._v(" "),n("number-input",{staticClass:"number-input",attrs:{max:127,min:-127}})],1)],1)],1):n("v-menu",{attrs:{value:t.value,eager:"",attach:t.attach,top:"","max-width":"320px","min-width":"320px","nudge-top":"8px"},on:{input:function(e){return t.$emit("input",e)}}},[n("v-list",{staticClass:"mx-4 rounded",attrs:{dense:"",elevation:0,nav:""}},[t._l(t.statusMenu,(function(e,i){return[e.divider?n("v-divider",{staticClass:"mx-4 my-2"}):n("v-list-item",{key:i,attrs:{ripple:""},on:{click:e.handler}},[n("v-icon",{staticClass:"mr-2",attrs:{color:e.color,size:"0.9em"}},[t._v(t._s(e.icon))]),t._v(" "),n("v-list-item-title",{class:e.color+"--text",staticStyle:{"font-size":"1em"}},[n("div",[t._v(t._s(e.title))])])],1)]})),t._v(" "),n("v-divider",{staticClass:"mx-4 my-2"}),t._v(" "),n("v-list-item",{attrs:{ripple:""},on:{click:function(e){e.stopPropagation(),t.customStatusModal=!0}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"white",size:"1.33em"}},[t._v("mdi-file-edit")]),t._v(" "),n("v-list-item-title",{staticClass:"white--text",staticStyle:{"font-size":"1em"}},[t._v(t._s(t.currentStatus||"Edit custom status"))]),t._v(" "),t.currentStatus?n("v-list-item-action",[n("v-btn",{attrs:{icon:"",height:"1em",width:"1.33em",ripple:!1,plain:""},on:{click:function(e){return e.stopPropagation(),t.clearStatusMessage(e)}}},[n("v-icon",{attrs:{size:"1.33em",color:"white"}},[t._v("mdi-close-circle")])],1)],1):t._e()],1),t._v(" "),n("v-list-item",{attrs:{ripple:!1},on:{click:function(t){t.stopPropagation()}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"white",size:"1.33em"}},[t._v("mdi-reorder-horizontal")]),t._v(" "),n("v-list-item-title",{staticClass:"white--text",staticStyle:{"font-size":"1em"}},[t._v("Resource Priority: ")]),t._v(" "),n("number-input",{attrs:{max:127,min:-127},model:{value:t.resourcePriority,callback:function(e){t.resourcePriority=e},expression:"resourcePriority"}})],1)],2)],1),t._v(" "),n("custom-status-modal",{model:{value:t.customStatusModal,callback:function(e){t.customStatusModal=e},expression:"customStatusModal"}})],1)}),[],!1,null,"40860482",null);e.default=component.exports;w()(component,{NumberInput:n(359).default,BottomSheet:n(265).default,CustomStatusModal:n(235).default}),w()(component,{VBtn:F.a,VDivider:x.a,VIcon:S.a,VList:E.a,VListItem:C.a,VListItemAction:O.a,VListItemTitle:A.a,VMenu:j.a})},235:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(0),o=n(34),c=n(5);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"CustomStatusModal",props:{value:Boolean},data:function(){return{status:""}},computed:d(d({},Object(o.e)({currentStatus:c.Store.$states.statusMessage})),{},{computedStatus:{get:function(){return this.status||this.currentStatus},set:function(t){this.status=t}}}),methods:{setStatus:function(){this.$stanza.setStatusMessage(this.status),this.$emit("input",!1)}}},m=(n(505),n(9)),v=n(15),h=n.n(v),D=n(577),y=n(230),w=n(105),F=n(574),x=n(571),S=n(573),E=n(227),C=n(561),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticClass:"rounded-xl",attrs:{value:t.value,width:"500",fullscreen:t.$device.isMobileOrTablet},on:{input:function(e){return t.$emit("input",e)}}},[n("v-card",{staticClass:"white--text rounded-lg unselectable d-flex flex-column",attrs:{outlined:""}},[n("v-card-title",{staticClass:"text-center font-weight-black d-block black-lighten"},[n("span",[t._v("Set custom status")]),t._v(" "),n("v-btn",{staticClass:"float-right mt-n1",attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$emit("input",!1)}}},[n("v-icon",{attrs:{color:"grey-600"}},[t._v("mdi-close")])],1)],1),t._v(" "),n("v-card-text",{staticClass:"flex-grow-1 black-lighten"},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.setStatus(e)}}},[n("div",{staticClass:"field-desc pb-1 font-weight-medium grey-600--text"},[t._v("Set your custom message")]),t._v(" "),n("v-text-field",{attrs:{autofocus:"",clearable:"",outlined:"",dense:"",placeholder:"Listening to music!","single-line":""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",{staticClass:"pb-3 flex-row-reverse black action-buttons"},[n("v-btn",{attrs:{ripple:!1,small:"",depressed:"",color:"primary"},on:{click:t.setStatus}},[t._v("Save")]),t._v(" "),n("v-btn",{attrs:{ripple:!1,small:"",depressed:"",color:"black"},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("Cancel")])],1)],1)],1)}),[],!1,null,"70c61a88",null);e.default=component.exports;h()(component,{VBtn:D.a,VCard:y.a,VCardActions:w.a,VCardText:w.b,VCardTitle:w.c,VDialog:F.a,VDivider:x.a,VForm:S.a,VIcon:E.a,VTextField:C.a})},240:function(t,e,n){n(538),document.body.setAttribute("data-long-press-delay",200)},241:function(t,e,n){"use strict";var r=n(346);n(2).a.use(r.a)},242:function(t,e,n){"use strict";var r=n(347);n(546);n(2).a.component("simplebar",r.a)},245:function(t,e,n){"use strict";var r=n(2),o=n(350);r.a.use(o.a)},246:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"bind",(function(){return w})),n.d(r,"install",(function(){return F})),n.d(r,"name",(function(){return x}));var o={};n.r(o),n.d(o,"Roster",(function(){return r}));n(16),n(10),n(14),n(19),n(13),n(20);var c=n(18),l=n(0),d=n(7),f=(n(63),n(223),n(147),n(25),n(38),n(42),n(59),n(35),n(36),n(40)),m=n(52),v=n(85),h=n(5),D=n(37),y=n(70),w=(n(89),n(49),n(68),function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ctx,r=e.client,t.next=3,r.getRoster().then((function(t){n.store.commit(h.Store.$mutations.diffUpdateRoster,t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),F=function(t){var e=t.ctx,n=t.client;return n.on("roster:update",(function(t){var n=t.roster;e.store.commit(h.Store.$mutations.diffUpdateRoster,n),n.items.forEach((function(i){return e.store.commit(h.Store.$mutations.removePending,f.a.toBare(i.jid))}))})),n.on("subscribe",(function(t){var r,o=f.a.toBare(t.from),c=null===(r=e.store.state[h.Store.$states.roster].items)||void 0===r?void 0:r.find((function(i){return i.jid===o}));if(c&&"to"===c.subscription)return n.acceptSubscription(t.from);if(!e.store.state[h.Store.$states.pending].includes(o)){e.store.commit(h.Store.$mutations.addPending,t.from);try{new Notification("Bonfire",{body:"Friend request from ".concat(o),image:e.store.state[h.Store.$states.avatars][o],icon:e.store.state[h.Store.$states.avatars][o]})}catch(t){}}})),n.on("unsubscribed",(function(t){e.store.commit(h.Store.$mutations.removePending,t.from),n.denySubscription(t.from)})),{accept:function(t){e.store.commit(h.Store.$mutations.removePending,t),n.acceptSubscription(t),n.subscribe(t)},deny:function(t){e.store.commit(h.Store.$mutations.removePending,t),n.denySubscription(t),n.unsubscribe(t)}}},x="roster";function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=f.c(void 0),O=function(t){return t.from?f.a.equalBare(t.from,C.jid)?t.to:t.from:t.to},A=function(t){return f.a.toBare(t)},j=function(t){return f.a.getResource(t)},_=function(t){return f.a.getDomain(t)},k=function(t){return f.a.getLocal(t)},B=function(t){function e(e){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return(n=t.store).commit.apply(n,["".concat(m.MessageStore.namespace,"/").concat(e)].concat(o))}function n(e){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return(n=t.store.getters)["".concat(m.MessageStore.namespace,"/").concat(e)].apply(n,o)}function r(){return l.apply(this,arguments)}function l(){return(l=Object(d.a)(regeneratorRuntime.mark((function e(){var n,r,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(D.b)(h.Store.$states.onlineStatus,h.Store.$states.statusMessage),r=Object(c.a)(n,2),l=r[0],d=r[1],C.sendPresence({show:l,status:d}),l&&t.store.commit(h.Store.$mutations.setOnlineStatus,l),d&&t.store.commit(h.Store.$mutations.setStatusMessage,d),e.next=6,t.store.dispatch("".concat(v.XEPStore.namespace,"/").concat(v.XEPStore.$actions.updateXepsWithDisco));case 6:return e.next=8,C.enableCarbons();case 8:e.t0=regeneratorRuntime.keys(o);case 9:if((e.t1=e.t0()).done){e.next=16;break}return f=e.t1.value,t.isDev&&console.debug("[Stanza] Calling bind() on module `".concat(o[f].name,"`")),e.next=14,o[f].bind({client:C,ctx:t});case 14:e.next=9;break;case 16:t.store.commit(h.Store.$mutations.stanzaInitialized),Notification.requestPermission();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C.on("session:started",r),C.on("stream:management:resumed",r),C.on("features",(function(e){var n,r;e.rosterVersioning&&t.store.commit("".concat(v.XEPStore.namespace,"/").concat(v.XEPStore.$mutations.setServerXep),{xep:"RFC 6121",value:!0}),e.streamManagement&&t.store.commit("".concat(v.XEPStore.namespace,"/").concat(v.XEPStore.$mutations.setServerXep),{xep:"XEP-0198",value:!0}),null!==(n=e.legacyCapabilities)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.value&&t.store.commit("".concat(v.XEPStore.namespace,"/").concat(v.XEPStore.$mutations.setServerXep),{xep:"XEP-0115",value:!0})})),t.store.watch((function(s){return{priority:s[y.SettingsStore.namespace][y.SettingsStore.$states.resourcePriority],show:s[h.Store.$states.onlineStatus],status:s[h.Store.$states.statusMessage]}}),(function(t){var e=t.priority,n=t.show,r=t.status;C.updateConfig({priority:e}),C.sendPresence({priority:e,show:n,status:r})}),{immediate:!0}),C.on("available",(function(e){t.store.commit(h.Store.$mutations.updatePresence,E({available:!0},e))})),C.on("unavailable",(function(e){t.store.commit(h.Store.$mutations.updatePresence,E({available:!1},e))})),C.on("avatar",function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.avatars[0].id,e.next=3,t.store.dispatch(h.Store.$actions.getAvatarId,n.jid);case 3:if(e.t1=e.sent,e.t0===e.t1){e.next=6;break}t.store.dispatch(h.Store.$actions.downloadAvatar,{jid:n.jid,id:n.avatars[0].id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C.on("chat",(function(e){var n=f.a.toBare(O(e));if(e.from||(e.from=C.jid),e.from=f.a.toBare(e.from),e.from!==f.a.toBare(C.jid))try{new Notification("Bonfire - ".concat(n),{body:e.body})}catch(t){}!function(e){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];(n=t.store).dispatch.apply(n,["".concat(m.MessageStore.namespace,"/").concat(e)].concat(o))}(m.MessageStore.$actions.addMessage,{jid:n,message:e})})),C.on("message:sent",(function(t,n){e(m.MessageStore.$mutations.updateMessageState,{id:t.id,state:{server:n,muc:!1,hibernated:!1,failed:!1,retry:!1}}),t.body&&C.emit("chat",t)})),C.on("message:acked",(function(t){n(m.MessageStore.$getters.hasMessage,t.id)&&e(m.MessageStore.$mutations.updateMessageState,{id:t.id,state:{server:!0,muc:!1}})})),C.on("message:hibernated",(function(t){n(m.MessageStore.$getters.hasMessage,t.id)&&e(m.MessageStore.$mutations.updateMessageState,{id:t.id,state:{hibernated:!0}})})),C.on("message:retry",(function(t){n(m.MessageStore.$getters.hasMessage,t.id)&&e(m.MessageStore.$mutations.updateMessageState,{id:t.id,state:{retry:!0}})})),C.on("message:failed",(function(t){n(m.MessageStore.$getters.hasMessage,t.id)&&e(m.MessageStore.$mutations.updateMessageState,{id:t.id,state:{failed:!0}})})),C.on("*",(function(){})),C.sm.cache((function(e){t.store.commit(h.Store.$mutations.setStreamManagement,e)}))};e.a=function(t,e){B(t),e("stanza",E(E({client:C},function(t){return{determineRelatedParty:O,toBare:A,getResource:j,getDomain:_,getLocal:k,updateConfig:function(){C.updateConfig.apply(C,arguments)},connect:function(){C.connect()},disconnect:function(){C.disconnect()},logout:function(){this.disconnect(),t.store.commit(h.Store.$mutations.updateLoginState,{loggedIn:!1,loggingIn:!1,loginFailed:!1,authFailed:!1}),t.store.commit(h.Store.$mutations.unsetPassword,null)},sendMessage:function(t){C.sendMessage(t)},ranks:Object.freeze(["online","away","xa","dnd","offline"]),getRankFromOnlineState:function(t){return this.ranks.findIndex((function(s){return s.toLowerCase()===t}))},getOnlineStateFromRank:function(t){return this.ranks[t]},setOnlineStatus:function(e){return t.store.dispatch(h.Store.$actions.updateOnlineStatus,{status:e})},setStatusMessage:function(e){return t.store.dispatch(h.Store.$actions.updateStatusMessage,{message:e})},goInvisible:function(){return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.store.dispatch(h.Store.$actions.updateInvisibility,!0));case 1:case"end":return e.stop()}}),e)})))()},goVisible:function(){return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.store.dispatch(h.Store.$actions.updateInvisibility,!1));case 1:case"end":return e.stop()}}),e)})))()},serverDisco:function(){return Object(d.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,C.getDiscoInfo(_(C.jid));case 3:return e.info=t.sent,t.next=6,C.getDiscoItems(_(C.jid));case 6:return e.items=t.sent.items,t.next=9,Promise.all(e.items.map(function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E,t.t1=E({},i),t.t2={},t.next=5,C.getDiscoInfo(i.jid);case 5:return t.t3=t.sent,t.t4={info:t.t3},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t4));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 9:return e.items=t.sent,t.next=12,C.getDiscoInfo(A(C.jid));case 12:return e.self=t.sent,t.next=15,C.getServices(_(C.jid));case 15:return e.services=t.sent.services,t.abrupt("return",e);case 17:case"end":return t.stop()}}),t)})))()}}}(t)),function(){var e={};for(var n in o)t.isDev&&console.debug("[Stanza] Installing module `".concat(o[n].name,"`")),e[o[n].name]=o[n].install({client:C,ctx:t});return e}()))}},262:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(19),n(13),n(20);var r=n(18),o=n(0),c=(n(24),n(14),n(307),n(5)),l=n(34);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"BadgedAvatar",props:{size:{type:Number,default:36},clickable:Boolean,jid:String,color:String,borderColor:String,disableTooltip:{type:Boolean,default:!1}},computed:f(f({},Object(l.e)({allResources:c.Store.$states.presences})),{},{resources:function(){return Object.entries(this.allResources[this.$stanza.toBare(this.jid)]||{}).filter((function(t){var e=Object(r.a)(t,1)[0];return""!==e&&"_/computed"!==e}))}}),methods:{getColor:function(t){return t.show||t.available&&"online"||"offline"}}},v=(n(476),n(478),n(9)),h=n(15),D=n.n(h),y=n(227),w=n(228),F=n(151),x=n(54),S=n(570),E=n(184),C=n.n(E),O=n(120),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.disableTooltip?n("badge",{attrs:{color:t.color,"border-color":t.borderColor,bordered:""},on:{click:function(e){return t.$emit("click",e)}},scopedSlots:t._u([{key:"badge",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[n("avatar",{attrs:{size:t.size,jid:t.jid},on:{click:function(e){return t.$emit("click",e)}}})],1):n("v-tooltip",{attrs:{right:"","open-delay":500,transition:"fade-transition","content-class":"avatar-resource-tooltip"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;e.attrs;return[n("div",[n("badge",{attrs:{color:t.color,"border-color":t.borderColor,bordered:""},on:{click:function(e){return t.$emit("click",e)}},scopedSlots:t._u([{key:"badge",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[n("avatar",{directives:[{name:"click-outside",rawName:"v-click-outside",value:r.blur,expression:"on.blur"}],class:{clickable:t.clickable},attrs:{size:t.size,jid:t.jid},on:{click:function(e){return t.$emit("click",e)}},nativeOn:{mouseover:function(e){t.disableTooltip||r.mouseenter(e)},mouseout:function(e){t.disableTooltip||r.mouseleave(e)},click:function(t){return r.blur()},"long-press":function(t){return r.mouseenter()}}})],1)],1)]}}],null,!1,12125518)},[t._v(" "),t.resources?n("v-list",{staticClass:"rounded",attrs:{dense:"",elevation:0,nav:""}},t._l(t.resources,(function(e,i){var r=e[0],o=e[1];return n("v-list-item",{key:i},[n("v-icon",{staticClass:"mr-2",attrs:{color:t.getColor(o),size:"0.9em"}},[t._v("mdi-circle")]),t._v(" "),n("v-list-item-title",{class:t.getColor(o)+"--text",staticStyle:{"font-size":"1em"}},[n("div",{staticClass:"d-flex"},[n("kbd",{class:t.getColor(o)+"--text"},[t._v(t._s(r))])])])],1)})),1):t._e()],1)}),[],!1,null,"44cf0a34",null);e.default=component.exports;D()(component,{Avatar:n(160).default,Badge:n(552).default}),D()(component,{VIcon:y.a,VList:w.a,VListItem:F.a,VListItemTitle:x.a,VTooltip:S.a}),C()(component,{ClickOutside:O.a})},264:function(t,e,n){"use strict";n.r(e);var r={name:"HeaderBar",props:{backgroundColor:{type:String,optional:!0,default:""},color:{type:String,optional:!0,default:""},lightenOnHover:{type:Boolean,optional:!0,default:!1},padBottom:{type:Boolean,optional:!0,default:!1},mobile:{type:Boolean,optional:!0,default:!1},menu:{type:Boolean,optional:!0,default:!1}},computed:{styling:function(){return this.backgroundColor?"background-color: ".concat(this.backgroundColor,";"):""+this.color?"color:"+"".concat(this.color,";"):""}},methods:{back:function(){document.querySelector("#bonfire > .main-container").scroll({left:0,behavior:"smooth"})}}},o=(n(429),n(9)),c=n(15),l=n.n(c),d=n(577),f=n(227),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header position-relative d-flex align-center",class:{"lighten-on-hover":t.lightenOnHover,"mb-2":t.padBottom,"pl-4 pr-4":!t.mobile},staticStyle:{"z-index":"3"},style:t.styling},[t.mobile&&t.menu?n("v-btn",{staticClass:"mx-2",attrs:{icon:""},on:{click:t.back}},[n("v-icon",{attrs:{size:"1.66em",color:"white"}},[t._v("mdi-menu")])],1):t._e(),t._v(" "),t._t("default")],2)}),[],!1,null,"f44fb43e",null);e.default=component.exports;l()(component,{VBtn:d.a,VIcon:f.a})},265:function(t,e,n){"use strict";n.r(e);n(24);var r={name:"BottomSheet",props:{items:Array,divider:{type:Boolean,default:!0},iconSize:{type:Number|String,default:"1.5em"}},methods:{open:function(){this.$refs.mobileDialog.open()},close:function(){this.$refs.mobileDialog.close()},click:function(t){var e=this,n=t.handler||function(){};return function(t){n(t),e.close()}}}},o=(n(497),n(9)),c=n(15),l=n.n(c),d=n(571),f=n(227),m=n(228),v=n(151),h=n(54),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-bottom-sheet",{ref:"mobileDialog",attrs:{"max-width":"100vw","max-height":"85vh",overlay:"","click-to-close":""}},[n("v-list",{staticClass:"mb-6",attrs:{tile:"",subheader:"",color:"transparent"}},[t._l(t.items,(function(e,i){return[e.divider?n("v-divider",{staticClass:"mx-4 my-2"}):n("v-list-item",{key:i,attrs:{ripple:"",nuxt:!!e.to,to:e.to,href:e.href},on:{click:function(n){t.click(e)(n)}}},[e.icon?n("v-icon",{staticClass:"mr-2",attrs:{color:e.color||"white",size:t.iconSize}},[t._v(t._s(e.icon))]):t._e(),t._v(" "),n("v-list-item-title",{class:(e.color||"white")+"--text",domProps:{innerHTML:t._s(e.title)}})],1)]})),t._v(" "),t._t("default")],2)],1)}),[],!1,null,"6bcfe420",null);e.default=component.exports;l()(component,{VDivider:d.a,VIcon:f.a,VList:m.a,VListItem:v.a,VListItemTitle:h.a})},312:function(t,e,n){var content=n(394);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("7388ab72",content,!0,{sourceMap:!1})},314:function(t,e,n){var content=n(404);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("579ca390",content,!0,{sourceMap:!1})},317:function(t,e,n){var content=n(422);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("96f328d6",content,!0,{sourceMap:!1})},318:function(t,e,n){var content=n(424);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("333865ee",content,!0,{sourceMap:!1})},319:function(t,e,n){var content=n(426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("7dbc0b7d",content,!0,{sourceMap:!1})},320:function(t,e,n){var content=n(428);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("15883fbb",content,!0,{sourceMap:!1})},321:function(t,e,n){var content=n(430);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("7ccd2bd9",content,!0,{sourceMap:!1})},322:function(t,e,n){var content=n(441);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("012bd2e6",content,!0,{sourceMap:!1})},327:function(t,e,n){var content=n(473);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("2d02d55e",content,!0,{sourceMap:!1})},328:function(t,e,n){var content=n(475);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("ca01ed94",content,!0,{sourceMap:!1})},329:function(t,e,n){var content=n(477);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("1e463f32",content,!0,{sourceMap:!1})},330:function(t,e,n){var content=n(479);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("4e7e03c1",content,!0,{sourceMap:!1})},331:function(t,e,n){var content=n(481);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("037f4a55",content,!0,{sourceMap:!1})},332:function(t,e,n){var content=n(498);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("1644d331",content,!0,{sourceMap:!1})},333:function(t,e,n){var content=n(504);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("6920526c",content,!0,{sourceMap:!1})},334:function(t,e,n){var content=n(506);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("fa8cb4de",content,!0,{sourceMap:!1})},335:function(t,e,n){var content=n(527);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("2b62daed",content,!0,{sourceMap:!1})},336:function(t,e,n){var content=n(529);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("2f04769c",content,!0,{sourceMap:!1})},337:function(t,e,n){var content=n(531);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("81204e48",content,!0,{sourceMap:!1})},338:function(t,e,n){var content=n(535);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("e7268faa",content,!0,{sourceMap:!1})},339:function(t,e,n){var content=n(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("4351036b",content,!0,{sourceMap:!1})},352:function(t,e,n){"use strict";n(53);var r=n(99),o=n(5),c={layout:"default",components:{SystemBar:r.default},data:function(){return{scrollDebounce:null,isScrolling:!1,dim:!1}},methods:{passClick:function(t){document.elementsFromPoint(t.clientX,t.clientY)[1].click()},passLongpress:function(t){document.elementsFromPoint(t.detail.clientX,t.detail.clientY)[1].dispatchEvent(new CustomEvent("long-press",{bubbles:!0,detail:t.detail}))},mouseup:function(){if(!this.isScrolling){var t=this.$refs.content.scrollLeft,e=Math.floor(this.$refs.content.scrollWidth-t-window.innerWidth);t&&e&&this.$refs.content.scroll({behavior:"smooth",left:t<e?0:this.$refs.content.scrollWidth-window.innerWidth})}},scrolled:function(){var t=this;this.isScrolling||(this.isScrolling=!0),clearTimeout(this.scrollDebounce),this.scrollDebounce=setTimeout((function(){t.scrollDebounce=t.isScrolling=void 0}),150)},observed:function(t){this.dim=t[0].isIntersecting},scrollToMain:function(){this.$refs.content.scroll({behavior:"smooth",left:this.$refs.content.scrollWidth-window.innerWidth})}},computed:{displayTitlebar:function(){return!!window.api},mainTitlebarCompensation:function(){return this.displayTitlebar?"height: calc(100vh - 24px);":"height: 100vh;"},stanzaInitialized:function(){return this.$store.state[o.Store.$states.stanzaInitialized]}},watch:{$route:function(){this.scrollToMain()}}},l=(n(421),n(423),n(9)),d=n(15),f=n.n(d),m=n(568),v=n(578),h=n(184),D=n.n(h),y=n(113),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.stanzaInitialized?n("v-app",{attrs:{dark:""}},[n("div",{staticClass:"d-flex flex-column black",class:{mobile:t.$device.isMobileOrTablet,tablet:t.$device.isTablet},attrs:{id:"bonfire"}},[t.displayTitlebar?n("system-bar",{staticClass:"grey-100 material-shadow",staticStyle:{"z-index":"11"},attrs:{dark:""}}):t._e(),t._v(" "),n("div",{ref:"content",staticClass:"d-flex flex-row flex-nowrap main-container position-relative",style:t.mainTitlebarCompensation,on:{scroll:t.scrolled,touchend:t.mouseup}},[t.$device.isMobileOrTablet?n("div",{staticClass:"d-flex"},[n("div",{staticClass:"unselectable sidebar",staticStyle:{position:"relative","z-index":"10"},on:{click:t.passClick,"long-press":t.passLongpress}}),t._v(" "),t.dim?n("div",{staticClass:"sidebar-peek",on:{click:t.scrollToMain}}):t._e()]):t._e(),t._v(" "),t.$device.isMobileOrTablet?n("div",{directives:[{name:"intersect",rawName:"v-intersect",value:t.observed,expression:"observed"}],staticClass:"position-absolute",staticStyle:{width:"1px"}}):t._e(),t._v(" "),n("side-bar",{ref:"sidebar",staticClass:"unselectable sidebar",class:{"rounded-tr rounded-br":t.$device.isMobileOrTablet}}),t._v(" "),n("v-main",{ref:"mainPanel",staticClass:"flex-grow-1 main-content position-relative",class:t.$device.isMobileOrTablet&&"ml-2"},[n("nuxt",{staticClass:"nuxt",class:{"rounded-tl rounded-bl":t.$device.isMobileOrTablet}})],1)],1)],1)]):t._e()}),[],!1,null,"15f4394e",null);e.a=component.exports;f()(component,{SystemBar:n(99).default,SideBar:n(548).default}),f()(component,{VApp:m.a,VMain:v.a}),D()(component,{Intersect:y.a})},353:function(t,e,n){"use strict";n.r(e);n(147);var r={name:"PinnedItems",props:{items:Array,selected:{type:String,optional:!0}},computed:{selectedAvatar:function(){var t=this;return this.items.findIndex((function(i){return t.$stanza.toBare(i.jid)===t.selected}))}}},o=(n(440),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{staticClass:"d-flex pa-1 flex-wrap justify-content-between"},[t._l(t.items.slice(0,12),(function(e,i){return n("nuxt-link",{key:i,staticClass:"clickable margin",attrs:{to:"/chat/"+e.jid,tag:"div"}},[n("div",{staticClass:"rounded-circle",class:i===t.selectedAvatar?"selected":"unselected"},[n("avatar",{attrs:{jid:e.jid,size:36}})],1)])})),t._v(" "),t._l(7-t.items.length%7,(function(i){return n("div",{key:"filler"+i,staticClass:"h-0 filler margin"})}))],2):t._e()}),[],!1,null,"e6576c06",null);e.default=component.exports;installComponents(component,{Avatar:n(160).default})},354:function(t,e,n){"use strict";n.r(e);var r={name:"MoreRosterItem",components:{BaseRosterItem:n(193).default},data:function(){return{menu:!1,posx:0,posy:0}},props:{item:{type:Object,required:!0},selected:{type:Boolean,required:!1,default:!1}},methods:{click:function(t){this.posx=null==t?void 0:t.clientX,this.posy=null==t?void 0:t.clientY,this.menu=!0},longpress:function(){this.menu=!0}}},o=n(9),c=n(15),l=n.n(c),d=n(577),f=n(227),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-roster-item",{attrs:{item:t.item,selected:t.selected},nativeOn:{"long-press":function(e){return t.longpress(e)}},scopedSlots:t._u([{key:"options",fn:function(){return[n("v-btn",{attrs:{icon:"",small:"",color:"white"},on:{click:t.click}},[n("v-icon",[t._v("mdi-dots-vertical")])],1),t._v(" "),n("roster-item-menu-tooltip",{attrs:{jid:t.item.jid,"position-x":t.posx,"position-y":t.posy},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}})]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports;l()(component,{RosterItemMenuTooltip:n(553).default}),l()(component,{VBtn:d.a,VIcon:f.a})},355:function(t,e,n){"use strict";n.r(e);var r=n(7),o=(n(63),{name:"PendingRosterItem",components:{BaseRosterItem:n(193).default},data:function(){return{menu:!1}},props:{item:{type:Object,required:!0},selected:{type:Boolean,required:!1,default:!1}},methods:{approve:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.menu=!0,e.next=3,t.$refs.dialog.getResponse();case 3:if(!e.sent){e.next=6;break}t.$stanza.roster.accept(t.item.jid),t.$emit("approve",t.item);case 6:case"end":return e.stop()}}),e)})))()},reject:function(){this.$stanza.roster.deny(this.item.jid),this.$emit("reject",this.item)}}}),c=n(9),l=n(15),d=n.n(l),f=n(577),m=n(227),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-roster-item",{attrs:{item:t.item,selected:t.selected}},[n("v-btn",{staticClass:"mx-2",attrs:{icon:"",small:"",color:"green"},on:{click:t.approve}},[n("v-icon",[t._v("mdi-check")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",small:"",color:"red"},on:{click:t.reject}},[n("v-icon",[t._v("mdi-close")])],1),t._v(" "),n("lazy-sub-accept-privacy-warning-modal",{ref:"dialog",model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}})],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:f.a,VIcon:m.a})},356:function(t,e,n){"use strict";var r={layout:"default",components:{SystemBar:n(99).default},computed:{displayTitlebar:function(){return!!window.api},mainTitlebarCompensation:function(){return this.displayTitlebar?"height: calc(100vh - 24px);":"height: 100vh;"}}},o=(n(534),n(9)),c=n(15),l=n.n(c),d=n(568),f=n(578),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("div",{staticClass:"d-flex flex-column black",attrs:{id:"bonfire"}},[t.displayTitlebar?n("system-bar",{attrs:{dark:""}}):t._e(),t._v(" "),n("div",{staticClass:"d-flex",style:t.mainTitlebarCompensation},[n("v-main",[n("nuxt")],1)],1)],1)])}),[],!1,null,null,null);e.a=component.exports;l()(component,{SystemBar:n(99).default}),l()(component,{VApp:d.a,VMain:f.a})},357:function(t,e,n){"use strict";var r=n(99),o=n(5),c={layout:"default",components:{SystemBar:r.default},computed:{title:function(){return this.$store.state[o.Store.$states.pageTitle]}}},l=(n(536),n(9)),d=n(15),f=n.n(d),m=n(568),v=n(577),h=n(227),D=n(578),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("div",{staticClass:"d-flex flex-column black",class:{mobile:t.$device.isMobileOrTablet,tablet:t.$device.isTablet},attrs:{id:"bonfire"}},[n("header-bar",{staticClass:"align-content-center-inline unselectable header",attrs:{mobile:""}},[n("v-btn",{staticClass:"mx-2",attrs:{icon:""},on:{click:function(e){return t.$router.back()}}},[n("v-icon",{attrs:{size:"1.66em",color:"white"}},[t._v("mdi-arrow-left")])],1),t._v(" "),n("span",{staticClass:"header-title white--text"},[t._v(t._s(t.title))])],1),t._v(" "),n("v-main",{staticClass:"h-100 pt-2 black--lighten"},[n("nuxt")],1)],1)])}),[],!1,null,null,null);e.a=component.exports;f()(component,{HeaderBar:n(264).default}),f()(component,{VApp:m.a,VBtn:v.a,VIcon:h.a,VMain:D.a})},359:function(t,e,n){"use strict";n.r(e);n(24);var r={name:"NumberInput",props:{min:Number,max:Number,value:Number},data:function(){return{dvalue:this.value||0}},watch:{dvalue:function(t){Math.abs(t)>127&&(this.dvalue=Math.min(Math.max(t,this.min),this.max)),this.$emit("input",t)}}},o=(n(528),n(9)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input d-flex rounded"},[n("button",{staticClass:"l rounded-l d-flex justify-center align-center",on:{click:function(e){t.dvalue--}}},[n("span",{staticClass:"flex-grow-1"},[t._v("–")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dvalue,expression:"dvalue",modifiers:{number:!0}}],ref:"input",staticClass:"px-2",attrs:{min:t.min,max:t.max,type:"number"},domProps:{value:t.dvalue},on:{input:function(e){e.target.composing||(t.dvalue=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("button",{staticClass:"r rounded-r d-flex justify-center align-center",on:{click:function(e){t.dvalue++}}},[n("span",{staticClass:"flex-grow-1"},[t._v("+")])])])}),[],!1,null,"d84e06d6",null);e.default=component.exports},362:function(t,e,n){"use strict";n.r(e);var r={name:"TypingSpinner",props:{color:String}},o=(n(474),n(9)),component=Object(o.a)(r,(function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"lds-facebook d-flex align-center rounded-pill",class:(t={},t[e.color]=e.color,t.darken=!!e.color,t)},e._l(3,(function(i){return r("div",{key:i,staticClass:"white"})})),0)}),[],!1,null,"533b582c",null);e.default=component.exports},365:function(t,e,n){n(366),t.exports=n(367)},37:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return m}));n(59),n(35);var r=window.sessionStorage,o=window.localStorage,c=window.localStorage,l=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map((function(e){return JSON.parse(t.getItem(e))}))},d=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.apply(void 0,[r].concat(e))},f=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.apply(void 0,[o].concat(e))},m=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.apply(void 0,[c].concat(e))}},377:function(t,e,n){"use strict";n.r(e);var r=n(7),o=(n(63),n(5));function c(){return(c=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.store,r=e.redirect,"/login"!==e.route.path){t.next=3;break}return t.abrupt("return");case 3:if(n.getters[o.Store.$getters.loggedIn]){t.next=8;break}return t.next=6,n.dispatch(o.Store.$actions.tryRestoreSession);case 6:if(n.getters[o.Store.$getters.loggedIn]){t.next=8;break}return t.abrupt("return",r("/login"));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.default=function(t){return c.apply(this,arguments)}},386:function(t,e){},388:function(t,e){},393:function(t,e,n){"use strict";n(312)},394:function(t,e,n){var r=n(11)(!1);r.push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=r},399:function(t,e,n){var content=n(400);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("ff2c5a92",content,!0,{sourceMap:!1})},400:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"*{outline:none}.reset-link{text-decoration:none!important;cursor:pointer!important;color:#fbf1c7!important}.no-transition{transition:none!important}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.hide-overflow{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.hide-horizontal{overflow-x:hidden!important}.simplebar-scrollbar:before{opacity:1;background-color:#1d2021}.narrow-scrollbar .simplebar-track{width:8px!important}.wide-scrollbar .simplebar-track{width:8px!important;background:rgba(60,56,54,.5)!important;border-radius:.7em}.wide-scrollbar .simplebar-track .simplebar-scrollbar:before{left:0!important;right:0!important;top:0!important;bottom:0!important}b{font-weight:600!important}[data-simplebar]{min-height:0}.simplebar-horizontal{display:none}.simplebar-x .simplebar-horizontal{display:inline;display:initial}.simplebar-vertical{margin-top:4px!important;margin-bottom:4px!important}.simplebar-no-gutter .simplebar-vertical{margin-right:4px}.wide-scrollbar .simplebar-vertical{margin-top:10px!important;margin-bottom:10px!important}.simplebar-horizontal{margin-left:4px!important;margin-right:4px!important}",""]),t.exports=r},401:function(t,e,n){var content=n(402);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("15e87c01",content,!0,{sourceMap:!1})},402:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'html{overflow:hidden!important}.h-0{height:0%!important}.w-0{width:0!important}.h-5{height:5%!important}.w-5{width:5%!important}.h-10{height:10%!important}.w-10{width:10%!important}.h-15{height:15%!important}.w-15{width:15%!important}.h-20{height:20%!important}.w-20{width:20%!important}.h-25{height:25%!important}.w-25{width:25%!important}.h-30{height:30%!important}.w-30{width:30%!important}.h-35{height:35%!important}.w-35{width:35%!important}.h-40{height:40%!important}.w-40{width:40%!important}.h-45{height:45%!important}.w-45{width:45%!important}.h-50{height:50%!important}.w-50{width:50%!important}.h-55{height:55%!important}.w-55{width:55%!important}.h-60{height:60%!important}.w-60{width:60%!important}.h-65{height:65%!important}.w-65{width:65%!important}.h-70{height:70%!important}.w-70{width:70%!important}.h-75{height:75%!important}.w-75{width:75%!important}.h-80{height:80%!important}.w-80{width:80%!important}.h-85{height:85%!important}.w-85{width:85%!important}.h-90{height:90%!important}.w-90{width:90%!important}.h-95{height:95%!important}.w-95{width:95%!important}.h-100,.lighten-on-hover:hover:before{height:100%!important}.lighten-on-hover:hover:before,.w-100{width:100%!important}.move-window{-webkit-app-region:drag;-webkit-user-select:none}.move-window button{-webkit-app-region:no-drag}.border-circle-right{border-bottom-right-radius:50%;border-top-right-radius:50%}.justify-content-between{justify-content:space-between!important;-ms-flex-pack:justify!important}.clickable,.clickable>*{cursor:pointer}.align-content-center-inline:before{content:"";display:inline-block;height:100%;vertical-align:middle}.align-content-center-inline>*{display:inline-block!important;vertical-align:middle}.lighten-on-hover:hover:before,.position-absolute{position:absolute}.lighten-on-hover,.lighten-on-hover>*,.position-relative{position:relative}.position-fixed{position:fixed}.position-static{position:static}.lighten-on-hover>*{z-index:5}.lighten-on-hover:hover:before{content:"";left:0;right:0;z-index:1;background:#fff;filter:opacity(.06)}.light-shadow{box-shadow:0 1px 0 rgba(4,4,5,.2),0 1.5px 0 rgba(6,6,7,.05),0 2px 0 rgba(4,4,5,.05)}.v-badge--bordered .v-badge__badge:after{border-radius:100%!important}',""]),t.exports=r},403:function(t,e,n){"use strict";n(314)},404:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'button[data-v-d7ac1bda]{height:100%;width:24px;text-align:right;transition:.2s;outline:none}button[data-v-d7ac1bda]:hover{background:#999}button:hover.close[data-v-d7ac1bda]{background:#f66}.brand[data-v-d7ac1bda]{font-weight:1000;font-size:14px}.brand[data-v-d7ac1bda]:before{content:"";display:inline-block;width:10px}',""]),t.exports=r},421:function(t,e,n){"use strict";n(317)},422:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".click-catcher[data-v-15f4394e]{position:absolute;z-index:100;width:100vw;height:100vh}[data-v-15f4394e]::-webkit-scrollbar{display:none}#bonfire.mobile .main-container[data-v-15f4394e]{-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none}#bonfire.mobile .main-container>*[data-v-15f4394e]{scroll-snap-stop:always;scroll-snap-align:end}.nuxt[data-v-15f4394e]{position:absolute;width:100%;height:100%}.mobile .nuxt[data-v-15f4394e]{width:100vw}.mobile .sidebar[data-v-15f4394e]{position:fixed;left:0;height:100%;z-index:9}.mobile .main-content[data-v-15f4394e]{position:relative;z-index:10}.mobile .sidebar[data-v-15f4394e]{min-width:82vw;max-width:82vw;width:82vw}.tablet .sidebar[data-v-15f4394e]{min-width:320px;max-width:320px;width:320px}.mobile .main-content[data-v-15f4394e]{width:100vw}.dim[data-v-15f4394e],.sidebar-peek[data-v-15f4394e]{background:#000;filter:opacity(.3)}.mobile .sidebar-peek[data-v-15f4394e]{min-width:calc(18vw - 8px);max-width:calc(18vw - 8px);width:calc(18vw - 8px)}.tablet .sidebar-peek[data-v-15f4394e]{min-width:calc(100vw - 328px);max-width:calc(100vw - 328px);width:calc(100vw - 328px)}.sidebar-peek[data-v-15f4394e]{position:absolute;right:0;z-index:11;height:100%}.main-container[data-v-15f4394e]{background:#1d2021}",""]),t.exports=r},423:function(t,e,n){"use strict";n(318)},424:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"#bonfire{position:absolute;width:100vw;height:100vh;overflow:hidden;left:0;top:0;scroll-behavior:smooth}",""]),t.exports=r},425:function(t,e,n){"use strict";n(319)},426:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".accordion-item[data-v-f55206d0]{will-change:height,flex-grow;transition-property:flex-grow;transition-duration:.3s;transition-timing-function:ease}.accordion--header[data-v-f55206d0]{min-height:2.5em;max-height:2.5em;height:2.5em;background-color:#32302f;font-weight:800}",""]),t.exports=r},427:function(t,e,n){"use strict";n(320)},428:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'.sidebar[data-v-16ec8869]{width:320px;min-width:320px;z-index:10}.brand[data-v-16ec8869]{font-weight:400;font-size:16px}.brand[data-v-16ec8869]:before{content:"";display:inline-block;width:10px}',""]),t.exports=r},429:function(t,e,n){"use strict";n(321)},430:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'html[data-v-f44fb43e]{overflow:hidden!important}.h-0[data-v-f44fb43e]{height:0%!important}.w-0[data-v-f44fb43e]{width:0!important}.h-5[data-v-f44fb43e]{height:5%!important}.w-5[data-v-f44fb43e]{width:5%!important}.h-10[data-v-f44fb43e]{height:10%!important}.w-10[data-v-f44fb43e]{width:10%!important}.h-15[data-v-f44fb43e]{height:15%!important}.w-15[data-v-f44fb43e]{width:15%!important}.h-20[data-v-f44fb43e]{height:20%!important}.w-20[data-v-f44fb43e]{width:20%!important}.h-25[data-v-f44fb43e]{height:25%!important}.w-25[data-v-f44fb43e]{width:25%!important}.h-30[data-v-f44fb43e]{height:30%!important}.w-30[data-v-f44fb43e]{width:30%!important}.h-35[data-v-f44fb43e]{height:35%!important}.w-35[data-v-f44fb43e]{width:35%!important}.h-40[data-v-f44fb43e]{height:40%!important}.w-40[data-v-f44fb43e]{width:40%!important}.h-45[data-v-f44fb43e]{height:45%!important}.w-45[data-v-f44fb43e]{width:45%!important}.h-50[data-v-f44fb43e]{height:50%!important}.w-50[data-v-f44fb43e]{width:50%!important}.h-55[data-v-f44fb43e]{height:55%!important}.w-55[data-v-f44fb43e]{width:55%!important}.h-60[data-v-f44fb43e]{height:60%!important}.w-60[data-v-f44fb43e]{width:60%!important}.h-65[data-v-f44fb43e]{height:65%!important}.w-65[data-v-f44fb43e]{width:65%!important}.h-70[data-v-f44fb43e]{height:70%!important}.w-70[data-v-f44fb43e]{width:70%!important}.h-75[data-v-f44fb43e]{height:75%!important}.w-75[data-v-f44fb43e]{width:75%!important}.h-80[data-v-f44fb43e]{height:80%!important}.w-80[data-v-f44fb43e]{width:80%!important}.h-85[data-v-f44fb43e]{height:85%!important}.w-85[data-v-f44fb43e]{width:85%!important}.h-90[data-v-f44fb43e]{height:90%!important}.w-90[data-v-f44fb43e]{width:90%!important}.h-95[data-v-f44fb43e]{height:95%!important}.w-95[data-v-f44fb43e]{width:95%!important}.h-100[data-v-f44fb43e],.lighten-on-hover[data-v-f44fb43e]:hover:before{height:100%!important}.lighten-on-hover[data-v-f44fb43e]:hover:before,.w-100[data-v-f44fb43e]{width:100%!important}.move-window[data-v-f44fb43e]{-webkit-app-region:drag;-webkit-user-select:none}.move-window button[data-v-f44fb43e]{-webkit-app-region:no-drag}.border-circle-right[data-v-f44fb43e]{border-bottom-right-radius:50%;border-top-right-radius:50%}.justify-content-between[data-v-f44fb43e]{justify-content:space-between!important;-ms-flex-pack:justify!important}.clickable[data-v-f44fb43e],.clickable>*[data-v-f44fb43e]{cursor:pointer}.align-content-center-inline[data-v-f44fb43e]:before{content:"";display:inline-block;height:100%;vertical-align:middle}.align-content-center-inline>*[data-v-f44fb43e]{display:inline-block!important;vertical-align:middle}.lighten-on-hover[data-v-f44fb43e]:hover:before,.position-absolute[data-v-f44fb43e]{position:absolute}.lighten-on-hover[data-v-f44fb43e],.lighten-on-hover>*[data-v-f44fb43e],.position-relative[data-v-f44fb43e]{position:relative}.position-fixed[data-v-f44fb43e]{position:fixed}.position-static[data-v-f44fb43e]{position:static}.lighten-on-hover>*[data-v-f44fb43e]{z-index:5}.lighten-on-hover[data-v-f44fb43e]:hover:before{content:"";left:0;right:0;z-index:1;background:#fff;filter:opacity(.06)}.header[data-v-f44fb43e],.light-shadow[data-v-f44fb43e]{box-shadow:0 1px 0 rgba(4,4,5,.2),0 1.5px 0 rgba(6,6,7,.05),0 2px 0 rgba(4,4,5,.05)}.v-badge--bordered .v-badge__badge[data-v-f44fb43e]:after{border-radius:100%!important}.header[data-v-f44fb43e]{min-height:48px;max-height:48px;height:48px}',""]),t.exports=r},440:function(t,e,n){"use strict";n(322)},441:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".filler[data-v-e6576c06]{width:40px}.margin[data-v-e6576c06]{margin:2px}.selected[data-v-e6576c06]{border:#bdae93;border-width:2px;border-style:solid}.unselected[data-v-e6576c06]{border:transparent;border-width:2px;border-style:solid}",""]),t.exports=r},46:function(t,e,n){"use strict";var r=new(n(345).a)("messagesDb");r.version(1).stores({messages:"&id, to, from, &timestamp, with",messageStates:"id",messageArchive:"id++, with, &timestamp",prefixIndex:"prefix"}),window.db=r,e.a=r},472:function(t,e,n){"use strict";n(327)},473:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".main[data-v-6c8b4706]{min-height:42px;max-height:42px;height:42px}.main:not(:hover) .options-container[data-v-6c8b4706]{display:none}.main[data-v-6c8b4706] .badge .dot{border-color:#3c3836!important}.main[data-v-6c8b4706]:hover{background:#504945}.main[data-v-6c8b4706]:hover .badge .dot{border-color:#504945!important}.main[aria-selected][data-v-6c8b4706]{background:#665c54}.main[aria-selected][data-v-6c8b4706] .badge .dot{border-color:#665c54!important}.gutter[data-v-6c8b4706]{width:3px;margin-right:5px}.indicator-light[data-v-6c8b4706]{margin-top:auto;margin-bottom:auto;height:16px}.main-container[data-v-6c8b4706]{line-height:1}",""]),t.exports=r},474:function(t,e,n){"use strict";n(328)},475:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'.darken[data-v-533b582c]{position:relative}.darken[data-v-533b582c]:before{position:absolute;content:"";width:100%;height:100%;border-radius:9999px;background:#282828;opacity:.25;z-index:1}.darken>*[data-v-533b582c]{z-index:2}.normal.lds-facebook[data-v-533b582c]{display:inline-block;position:relative;width:4.8em;height:1em;padding:0;margin:0}.normal.lds-facebook div[data-v-533b582c]{background:#fff;display:inline-block;position:absolute;width:.8em;height:.8em;border-radius:50%;-webkit-animation:lds-facebook-data-v-533b582c 1s cubic-bezier(0,.5,.5,1) infinite;animation:lds-facebook-data-v-533b582c 1s cubic-bezier(0,.5,.5,1) infinite}.normal.lds-facebook div[data-v-533b582c]:first-child{left:.8em;-webkit-animation-delay:-.2s;animation-delay:-.2s}.normal.lds-facebook div[data-v-533b582c]:nth-child(2){left:2em;-webkit-animation-delay:-.1s;animation-delay:-.1s}.normal.lds-facebook div[data-v-533b582c]:nth-child(3){left:3.2em;-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes lds-facebook-data-v-533b582c{0%,to{opacity:0}50%{opacity:1}}.small[data-v-533b582c]{background:#504945}.small.lds-facebook[data-v-533b582c]{display:inline-block;position:relative;width:24px;height:1em;padding:0;margin:0}.small.lds-facebook div[data-v-533b582c]{background:#fff;display:inline-block;position:absolute;width:4px;height:4px;border-radius:50%;-webkit-animation:lds-facebook-data-v-533b582c 1s cubic-bezier(0,.5,.5,1) infinite;animation:lds-facebook-data-v-533b582c 1s cubic-bezier(0,.5,.5,1) infinite}.small.lds-facebook div[data-v-533b582c]:first-child{left:4px;-webkit-animation-delay:-.2s;animation-delay:-.2s}.small.lds-facebook div[data-v-533b582c]:nth-child(2){left:10px;-webkit-animation-delay:-.1s;animation-delay:-.1s}.small.lds-facebook div[data-v-533b582c]:nth-child(3){left:16px;-webkit-animation-delay:0s;animation-delay:0s}@keyframes lds-facebook-data-v-533b582c{0%,to{opacity:0}50%{opacity:1}}',""]),t.exports=r},476:function(t,e,n){"use strict";n(329)},477:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".badge[data-v-44cf0a34] .v-badge__badge{padding:0!important;height:auto!important;transition:none!important}",""]),t.exports=r},478:function(t,e,n){"use strict";n(330)},479:function(t,e,n){var r=n(11)(!1);r.push([t.i,".avatar-resource-tooltip{padding:0!important}",""]),t.exports=r},480:function(t,e,n){"use strict";n(331)},481:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".badge-container[data-v-032806c4],.badge-wrapper[data-v-032806c4]{position:relative}.badge[data-v-032806c4]{position:absolute;bottom:0;right:-15%;font-size:.75rem}.dot[data-v-032806c4]{display:inline-block;width:12px;height:12px;border-radius:12px;border-width:2.5px;transform:scale(1.1);right:-2.5px}",""]),t.exports=r},497:function(t,e,n){"use strict";n(332)},498:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"[data-v-6bcfe420] .bottom-sheet__card{background:#504945!important}[data-v-6bcfe420] .bottom-sheet__bar{background:#ebdbb2!important}",""]),t.exports=r},5:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return j})),n.d(e,"getters",(function(){return _})),n.d(e,"actions",(function(){return B})),n.d(e,"mutations",(function(){return I})),n.d(e,"Store",(function(){return M}));n(48),n(36),n(58),n(10),n(60),n(67),n(16),n(14),n(19),n(20);var r,o,c,l=n(27),d=n(18),f=n(7),m=n(0),v=(n(63),n(35),n(378),n(25),n(38),n(42),n(13),n(147),n(175),n(49),n(297),n(382),n(70)),h=n(40),D=n(37),y=n(2);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var E={pageTitle:"PAGE_TITLE",jid:"JID",server:"SERVER",password:"PASSWORD",transports:"TRANSPORTS",loginState:"LOGIN_STATE",loginDate:"LOGIN_DATE",activeChat:"ACTIVE_CHAT",stanzaInitialized:"STANZA_INITIALIZED",streamManagement:"STREAM_MANAGEMENT",account:"ACCOUNT",roster:"ROSTER",pending:"PENDING",rosterAcceptPrivacyRead:"ROSTER_ACCEPT_PRIVACY_READ",avatars:"AVATARS",avatarIds:"AVATAR_IDS",resources:"RESOURCES",presences:"PRESENCES",onlineStatus:"ONLINE_STATUS",statusMessage:"STATUS_MESSAGE",invisibility:"INVISIBILITY"},C={loggedIn:"LOGGED_IN",loggingIn:"LOGGING_IN",loginFailed:"LOGIN_FAILED",authFailed:"AUTH_FAILED",presence:"GET_PRESENCE"},O={login:"LOGIN",tryRestoreSession:"TRY_RESTORE_SESSION",downloadAvatar:"DOWNLOAD_AVATAR",getAvatar:"GET_AVATAR",getAvatarId:"GET_AVATAR_ID",updateOnlineStatus:"UPDATE_ONLINE_STATUS",updateStatusMessage:"UPDATE_STATUS_MESSAGE",updateInvisibility:"UPDATE_INVISIBILITY"},A={setPageTitle:"SET_PAGE_TITLE",setJid:"SET_JID",setServer:"SET_SERVER",setPassword:"SET_PASSWORD",unsetPassword:"UNSET_PASSWORD",setTransports:"SET_TRANSPORTS",stanzaInitialized:"STANZA_INITIALIZED",setLoginDate:"SET_LOGIN_DATE",setActiveChat:"SET_ACTIVE_CHAT",updateLoginState:"UPDATE_LOGIN_STATE",updatePresence:"UPDATE_PRESENCE",setPresence:"SET_PRESENCE",updateAvatar:"UPDATE_AVATAR",updateAvatarId:"UPDATE_AVATAR_ID",setStreamManagement:"SET_STREAM_MANAGEMENT",setAccount:"SET_ACCOUNT",setRoster:"SET_ROSTER",diffUpdateRoster:"DIFF_UPDATE_ROSTER",addPending:"ADD_PENDING",removePending:"REMOVE_PENDING",setOnlineStatus:"SET_ONLINE_STATUS",setStatusMessage:"SET_STATUS_MESSAGE",setInvisibility:"SET_INVISIBILITY"},j=function(){var t;return t={},Object(m.a)(t,E.pageTitle,""),Object(m.a)(t,E.jid,""),Object(m.a)(t,E.server,""),Object(m.a)(t,E.password,""),Object(m.a)(t,E.transports,{}),Object(m.a)(t,E.loginDate,void 0),Object(m.a)(t,E.loginState,{loggedIn:!1,loginFailed:!1,authFailed:!1,loggingIn:!1}),Object(m.a)(t,E.stanzaInitialized,!1),Object(m.a)(t,E.streamManagement,null),Object(m.a)(t,E.account,null),Object(m.a)(t,E.activeChat,null),Object(m.a)(t,E.roster,{}),Object(m.a)(t,E.pending,[]),Object(m.a)(t,E.rosterAcceptPrivacyRead,!1),Object(m.a)(t,E.avatars,{}),Object(m.a)(t,E.avatarIds,{}),Object(m.a)(t,E.resources,{}),Object(m.a)(t,E.presences,{}),Object(m.a)(t,E.onlineStatus,"online"),Object(m.a)(t,E.statusMessage,""),Object(m.a)(t,E.invisibility,!1),t},_=(r={},Object(m.a)(r,C.loggedIn,(function(t){return t[E.loginState].loggedIn})),Object(m.a)(r,C.authFailed,(function(t){return t[E.loginState].authFailed})),Object(m.a)(r,C.loginFailed,(function(t){return t[E.loginState].loginFailed})),Object(m.a)(r,C.loggingIn,(function(t){return t[E.loginState].loggingIn})),Object(m.a)(r,C.presence,(function(t){return function(e){var n,r;return null===(n=t[E.presences])||void 0===n||null===(r=n[this.$stanza.toBare(e)])||void 0===r?void 0:r["_/computed"]}})),r),k={},B=(o={},Object(m.a)(o,O.tryRestoreSession,(function(t){var e=this;return Object(f.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,f,m,w,F,x,S,C,j,_,k,B,P,I,M,R;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.commit,o=t.dispatch,c=t.state;try{(l=JSON.parse(D.f.getItem(E.streamManagement),h.b.reviveData))&&(e.$stanza.client.sm.load(l),r(A.setStreamManagement,l))}catch(t){console.debug("Couldn't restore session management cache",t)}if(n.prev=2,f=Object(D.b)(E.jid,E.server,E.password,E.transports,E.roster),m=Object(d.a)(f,5),w=m[0],F=m[1],x=m[2],S=m[3],C=m[4],!w||!x){n.next=7;break}return n.next=7,o(O.login,{jid:w,server:F,password:x,transports:S,roster:C});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.debug("Couldn't restore credentials",n.t0);case 12:if(c[E.loginState].loggedIn){if(j=Object(D.c)(E.presences),_=Object(d.a)(j,1),k=_[0]){for(B in k)y.a.set(k,B,k[B]);r(A.setPresence,k)}P=Object(D.a)(E.pending,E.rosterAcceptPrivacyRead),I=Object(d.a)(P,2),M=I[0],R=I[1],M&&r("SET_PENDING",M),R&&r("SET_ROSTER_ACCEPT_PRIVACY_READ",R)}o("".concat(v.SettingsStore.namespace,"/").concat(v.SettingsStore.$actions.restoreUserSettings));case 14:case"end":return n.stop()}}),n,null,[[2,9]])})))()})),Object(m.a)(o,O.login,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,f,m,v,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=e.jid,l=e.password,d=e.server,f=e.transports,m=e.resource,v=e.roster,h={jid:c,password:l,server:d||void 0,transports:f||{bosh:!0,websocket:!0},resource:m||"".concat(Math.round(100*Math.random()),"-bonfire"),allowReconnect:!0,rosterVer:null==v?void 0:v.version},n.$stanza.client.updateConfig(h),n.$stanza.client.connect(),o(A.updateLoginState,{loggedIn:!1,loginFailed:!1,authFailed:!1,loggingIn:!0}),n.$stanza.client.on("auth:failed",(function(){o(A.updateLoginState,{loggedIn:!1,loginFailed:!0,authFailed:!0,loggingIn:!1})})),r.next=9,Promise.any([new Promise((function(t){return n.$stanza.client.once("auth:success",(function(){o(A.updateLoginState,{loggedIn:!0,loginFailed:!1,authFailed:!1,loggingIn:!1}),o(A.setLoginDate,new Date),o(A.setJid,c),o(A.setPassword,l),v&&o(A.setRoster,v),t()}))})),new Promise((function(t){return n.$stanza.client.once("disconnected",(function(){o(A.updateLoginState,{loggedIn:!1,loginFailed:!0,loggingIn:!1}),t()}))}))]);case 9:case"end":return r.stop()}}),r)})))()})),Object(m.a)(o,O.downloadAvatar,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,m,v,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.commit,c=t.state,l=e.jid,d=e.id,m=n.$stanza.toBare(l),v=function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$stanza.client.getAvatar(m);case 3:e=t.sent,o(A.updateAvatar,{jid:l,avatar:e.content.data}),t.next=17;break;case 7:if(t.prev=7,t.t0=t.catch(0),console.error(t.t0),"timeout"!==(null===t.t0||void 0===t.t0||null===(r=t.t0.error)||void 0===r?void 0:r.condition)){t.next=16;break}return t.next=13,v();case 13:return t.abrupt("return",t.sent);case 16:o(A.updateAvatar,{jid:l,default:!0});case 17:return t.abrupt("return",c[E.avatars][n.$stanza.toBare(l)]);case 18:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),!k[m]){r.next=6;break}return r.abrupt("return",k[m]);case 6:return h=v(),k[m]=h,h.then((function(){delete k[m],o(A.updateAvatarId,{jid:l,id:d})})),r.abrupt("return",h);case 10:case"end":return r.stop()}}),r)})))()})),Object(m.a)(o,O.getAvatar,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,f,m,v,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.dispatch,c=t.commit,l=t.state,d=e.jid,f=n.$stanza.toBare(d),null!==(m=l[E.avatars][f])){r.next=6;break}return r.abrupt("return",null);case 6:if(m){r.next=19;break}if(!(v=D.d.getItem("avatar-"+f))){r.next=16;break}return r.next=11,fetch(v);case 11:return r.next=13,r.sent.blob();case 13:return h=r.sent,c(A.updateAvatar,{jid:d,avatar:h,restore:!0}),r.abrupt("return",l[E.avatars][f]);case 16:return r.next=18,o(O.downloadAvatar,{jid:d});case 18:return r.abrupt("return",r.sent);case 19:return r.abrupt("return",m);case 20:case"end":return r.stop()}}),r)})))()})),Object(m.a)(o,O.getAvatarId,(function(t,e){var n=t.commit,r=t.state,o=this.$stanza.toBare(e),c=r[E.avatarIds][o];return c||(c=D.d.getItem("avatarId-"+o))&&n(A.updateAvatarId,{jid:o,id:c}),c})),Object(m.a)(o,O.updateOnlineStatus,(function(t,e){return Object(f.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.commit,t.state,o=t.dispatch,(c=e.status)&&"online"!==c){n.next=5;break}return r(A.setOnlineStatus,c),n.abrupt("return");case 5:return n.next=7,o(O.updateInvisibility,!1);case 7:r(A.setOnlineStatus,c);case 8:case"end":return n.stop()}}),n)})))()})),Object(m.a)(o,O.updateStatusMessage,(function(t,e){var n=t.commit,r=(t.state,e.message);n(A.setStatusMessage,r)})),Object(m.a)(o,O.updateInvisibility,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.commit,c=t.state,l=c[E.invisibility],!e||l){r.next=7;break}return r.next=5,n.$stanza.client.goInvisible(!0);case 5:r.next=10;break;case 7:if(e||!l){r.next=10;break}return r.next=10,n.$stanza.client.goVisible();case 10:o(A.setInvisibility,e);case 11:case"end":return r.stop()}}),r)})))()})),o),P=function(t){for(var e={},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if("object"===Object(l.a)(t)){var c,d=x(r);try{var f=function(){var n=c.value,r="SET_".concat(n);e[r]=function(e,data){e[n]=data,t.setItem(n,JSON.stringify(data))}};for(d.s();!(c=d.n()).done;)f()}catch(t){d.e(t)}finally{d.f()}}else if("string"==typeof t){r.push(t);var m,v=x(r);try{var h=function(){var t=m.value,n="SET_".concat(t);e[n]=function(e,data){e[t]=data}};for(v.s();!(m=v.n()).done;)h()}catch(t){v.e(t)}finally{v.f()}}return e},I=F(F(F(F({},P(D.e,E.jid,E.password,E.server,E.transports,E.onlineStatus,E.statusMessage)),P(D.d,E.rosterAcceptPrivacyRead)),P(E.account,E.loginDate,E.pageTitle,E.invisibility,E.pending)),{},(c={},Object(m.a)(c,A.setRoster,(function(t,e){y.a.set(t[E.roster],"version",e.version),t[E.roster].items||y.a.set(t[E.roster],"items",[]),e.items.forEach((function(e,i){return y.a.set(t[E.roster].items,i,e)})),D.e.setItem(E.roster,JSON.stringify(e))})),Object(m.a)(c,A.diffUpdateRoster,(function(t,e){var n;if(t[E.roster].version!==e.version){var r,o=(null===(n=t[E.roster])||void 0===n?void 0:n.items)||[],c=x(e.items);try{var l=function(){var t=r.value,e=o.findIndex((function(i){return i.jid===t.jid}));-1!==e?"remove"===t.subscription||"none"===t.subscription&&!t.pending?o.splice(e,1):y.a.set(o,e,t):(["to","from","both"].includes(t.subscription)||t.pending)&&o.push(t)};for(c.s();!(r=c.n()).done;)l()}catch(t){c.e(t)}finally{c.f()}var data={version:e.version,items:o};D.e.setItem(E.roster,JSON.stringify(data)),e.version&&y.a.set(t[E.roster],"version",e.version)}})),Object(m.a)(c,A.addPending,(function(t,e){t[E.pending].push(e),D.e.setItem(E.pending,JSON.stringify(t[E.pending]))})),Object(m.a)(c,A.removePending,(function(t,e){var n=t[E.pending].indexOf(e);-1!==n&&t[E.pending].splice(n,1),D.e.setItem(E.pending,JSON.stringify(t[E.pending]))})),Object(m.a)(c,A.setActiveChat,(function(t,data){var e;t.settings[v.SettingsStore.$states.activeChatReceipts]&&(null!==(e=t[E.activeChat])&&void 0!==e&&e.entity&&this.$stanza.client.sendMessage({type:"chat",to:t[E.activeChat].entity,chatState:"inactive"}));t[E.activeChat]=data,t.settings[v.SettingsStore.$states.activeChatReceipts]&&this.$stanza.client.sendMessage({type:"chat",to:t[E.activeChat].entity,chatState:"active"})})),Object(m.a)(c,A.stanzaInitialized,(function(t){t[E.stanzaInitialized]=!0})),Object(m.a)(c,A.unsetPassword,(function(t){t[E.password]="",D.e.removeItem(E.password)})),Object(m.a)(c,A.updateLoginState,(function(t,data){t[E.loginState]=Object.assign(t[E.loginState],data)})),Object(m.a)(c,A.setStreamManagement,(function(t,data){var e=JSON.stringify(data);D.f.setItem(E.streamManagement,e),t[E.streamManagement]=e})),Object(m.a)(c,A.updateAvatar,(function(t,data){var e=this.$stanza.toBare(data.jid);if(data.default)return y.a.set(t[E.avatars],e,null);null!==t[E.avatars][e]&&URL.revokeObjectURL(t[E.avatars][e]);var n=new Blob([data.avatar],{type:"image/png"}),r=URL.createObjectURL(n);if(!data.restore){var o=new FileReader;o.readAsDataURL(n),o.onloadend=function(){var t=o.result;D.d.setItem("avatar-"+e,t)}}y.a.set(t[E.avatars],e,r)})),Object(m.a)(c,A.updateAvatarId,(function(t,e){var n=e.jid,r=e.id,o=this.$stanza.toBare(n);y.a.set(t[E.avatarIds],o,r),D.d.setItem("avatarId-"+o,r)})),Object(m.a)(c,A.setPresence,(function(t,data){t[E.presences]=data})),Object(m.a)(c,A.updatePresence,(function(t,data){var e=this.$stanza.toBare(data.from),n=this.$stanza.getResource(data.from),r=data.priority;if(void 0!==r){var o,c=t[E.resources][e],l=null===(o=t[E.resources][e])||void 0===o?void 0:o[n];y.a.set(t[E.resources],e,F(F({},c),{},Object(m.a)({},n,F(F({},l),{},{priority:r}))))}var d=t[E.presences][e];y.a.set(t[E.presences],e,F(F({},d),{},Object(m.a)({},n,{show:data.show,status:data.status,available:data.available})));var f,v={available:!1},h=x(Object.getOwnPropertyNames(t[E.presences][e]));try{for(h.s();!(f=h.n()).done;){var w=f.value;if("__ob__"!==w&&"_/computed"!==w){var S=JSON.parse(JSON.stringify(t[E.presences][e][w]));if(S.available&&!S.show){v=S;break}v.available||!S.available?this.$stanza.getRankFromOnlineState(v.show)<this.$stanza.getRankFromOnlineState(S.show)&&(v=S):v=S}}}catch(t){h.e(t)}finally{h.f()}d=t[E.presences][e],y.a.set(t[E.presences],e,F(F({},d),{},{"_/computed":v})),D.f.setItem(E.presences,JSON.stringify(t[E.presences]))})),c)),M={$getters:C,$mutations:A,$actions:O,$states:E}},503:function(t,e,n){"use strict";n(333)},504:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".main[data-v-7bb584f2]{height:50px;min-height:50px;max-height:50px}.main:not(:hover)>.options-container[data-v-7bb584f2]{display:none}.main[data-v-7bb584f2]:hover{background:#504945}.main[aria-selected][data-v-7bb584f2]{background:#665c54}",""]),t.exports=r},505:function(t,e,n){"use strict";n(334)},506:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,'.field-desc[data-v-70c61a88]:before{content:"";width:4px;display:inline-block}[data-v-70c61a88] .v-text-field__details{max-height:0!important;min-height:0!important;padding:0!important;margin:0!important}.action-buttons>*[data-v-70c61a88]{margin-left:12px}',""]),t.exports=r},52:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"state",(function(){return A})),n.d(e,"getters",(function(){return j})),n.d(e,"actions",(function(){return P})),n.d(e,"mutations",(function(){return I})),n.d(e,"MessageStore",(function(){return M}));var r,o,c=n(7),l=n(0),d=(n(63),n(25),n(53),n(48),n(36),n(58),n(38),n(10),n(60),n(67),n(42),n(16),n(14),n(19),n(13),n(20),n(46)),f=(n(5),n(2)),m=n(557),v=n(225),h=n(40);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var x=n(361),S={messages:"MESSAGES",messagesById:"MESSAGES_BY_ID",messageStateById:"MESSAGE_STATE_BY_ID",chatComposing:"CHAT_COMPOSING"},E={hasMessage:"HAS_MESSAGE"},C={syncMessages:"SYNC_MESSAGES",loadCurrentMessages:"LOAD_CURRENT_MESSAGES",addMessage:"ADD_MESSAGE"},O={setMessages:"SET_MESSAGES",setMessagesById:"SET_MESSAGES_BY_ID",setMessageStateById:"SET_MESSAGE_STATE_BY_ID",addMessage:"ADD_MESSAGE",updateMessageState:"SET_MESSAGE_STATE",setComposing:"SET_COMPOSING"},A=function(){var t;return t={},Object(l.a)(t,S.messages,{}),Object(l.a)(t,S.messagesById,{}),Object(l.a)(t,S.messageStateById,{}),Object(l.a)(t,S.chatComposing,{}),t},j=Object(l.a)({},E.hasMessage,(function(t){return function(e){return!!t[S.messagesById][e]}})),_=function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(!t.sent){t.next=7;break}return t.next=5,new Promise((function(t){return setTimeout(t,n)}));case 5:t.next=0;break;case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function k(t,e){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(regeneratorRuntime.mark((function e(n,r){var o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.reduce((function(t,e){return Math.min(t,e.timestamp)}),n[0].timestamp),c=x.compress(t.from(m.a(n))),e.next=4,d.a.messageArchive.add({block:c,timestamp:o,with:r});case 4:return l=e.sent,e.next=7,Object(v.populateSearchIndex)(d.a,l,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=(r={},Object(l.a)(r,C.loadCurrentMessages,(function(t,e){return Object(c.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,n.t0=r,n.t1=O.setMessages,n.t2=e,n.next=6,d.a.messages.where("with").equals(e).toArray();case 6:n.t3=n.sent,n.t4={jid:n.t2,messages:n.t3},(0,n.t0)(n.t1,n.t4);case 9:case"end":return n.stop()}}),n)})))()})),Object(l.a)(r,C.syncMessages,(function(t,e){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,l,f,m,v,D;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.dispatch,r.next=3,d.a.messageArchive.where("with").equals(e).sortBy("timestamp");case 3:if(r.t0=r.sent,r.t0){r.next=8;break}return r.next=7,d.a.messages.where("with").equals(e).sortBy("timestamp");case 7:r.t0=r.sent;case 8:return null!=(l=r.t0)&&l.length&&(f=new Date(l[0].timestamp-1)),m=0,v=[],D="",r.next=15,_(Object(c.a)(regeneratorRuntime.mark((function t(){var r,o,l,y,F,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$stanza.client.searchHistory({with:e,paging:{before:D},end:f});case 2:r=t.sent,o=w(r.results);try{for(o.s();!(l=o.n()).done;)y=l.value.item,F=y.message,x=y.delay,F.body&&(F.from=h.a.toBare(F.from),F.to=h.a.toBare(F.to),F.with=h.a.toBare(F.with),F.timestamp=x.timestamp.getTime(),v.push(F),++m)}catch(t){o.e(t)}finally{o.f()}if(!(v.length>=10)){t.next=9;break}return t.next=8,d.a.transaction("rw",d.a.messageArchive,d.a.prefixIndex,Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(v,e);case 2:case"end":return t.stop()}}),t)}))));case 8:v=[];case 9:return D=r.paging.first,t.abrupt("return",m<40&&!r.complete);case 11:case"end":return t.stop()}}),t)}))),50);case 15:if(!v.length){r.next=18;break}return r.next=18,d.a.transaction("rw",d.a.messageArchive,d.a.prefixIndex,Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(v,e);case 2:case"end":return t.stop()}}),t)}))));case 18:return r.next=20,o(C.loadCurrentMessages,e);case 20:case"end":return r.stop()}}),r)})))()})),Object(l.a)(r,C.addMessage,(function(t,e){return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o,l,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,o=e.jid,l=e.message,f=e.state,m=h.a.toBare(o),l.timestamp||(l.timestamp=Date.now()),l.with=m,r(O.addMessage,{bareJid:m,message:l,messageState:f}),f&&d.a.messageStates.put(y({id:l.id},f)),n.prev=7,n.next=10,d.a.messages.put(l);case 10:n.next=15;break;case 12:return n.prev=12,n.t0=n.catch(7),n.abrupt("return");case 15:return n.next=17,d.a.transaction("rw",d.a.messages,d.a.messageArchive,d.a.prefixIndex,Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d.a.messages.where("with").equals(m),t.next=3,e.count();case 3:if(t.t0=t.sent,t.t1=10,!(t.t0>=t.t1)){t.next=15;break}return t.t2=k,t.next=9,e.sortBy("timestamp");case 9:return t.t3=t.sent,t.t4=m,t.next=13,(0,t.t2)(t.t3,t.t4);case 13:return t.next=15,e.delete();case 15:case"end":return t.stop()}}),t)}))));case 17:case"end":return n.stop()}}),n,null,[[7,12]])})))()})),r),I=(o={},Object(l.a)(o,O.setMessages,(function(t,e){var n=e.jid,r=e.messages;f.a.set(t[S.messages],n,r)})),Object(l.a)(o,O.setMessagesById,(function(t,data){t[S.messagesById]=data})),Object(l.a)(o,O.setMessageStateById,(function(t,data){t[S.messageStateById]=data})),Object(l.a)(o,O.addMessage,(function(t,e){var n=e.bareJid,r=e.message,o=e.messageState;t[S.messages][n]||f.a.set(t[S.messages],n,[]),t[S.messages][n].push(r),f.a.set(t[S.messagesById],r.id,r),o&&f.a.set(t[S.messageStateById],r.id,o)})),Object(l.a)(o,O.updateMessageState,(function(t,e){var n=e.id,r=e.state;f.a.set(t[S.messageStateById],n,r),d.a.messageStates.put(y({id:n},r))})),Object(l.a)(o,O.setComposing,(function(t,e){var n=e.user,r=e.composing;f.a.set(t[S.chatComposing],n,r)})),o),M={namespace:"messages",$getters:E,$mutations:O,$actions:C,$states:S}}.call(this,n(178).Buffer)},526:function(t,e,n){"use strict";n(335)},527:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".number-input[data-v-40860482] *{border-color:#bdae93!important}",""]),t.exports=r},528:function(t,e,n){"use strict";n(336)},529:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"input[type=number][data-v-d84e06d6]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type=number][data-v-d84e06d6]::-webkit-inner-spin-button,input[type=number][data-v-d84e06d6]::-webkit-outer-spin-button{-webkit-appearance:none}.input[data-v-d84e06d6]{background-color:#282828;height:26px;box-sizing:content-box}button[data-v-d84e06d6]{width:3ex;background-color:#32302f;border:1px solid #504945;font-weight:900;font-size:1.1em;transition-property:border-bottom-color,border-top-color,border-left-color,border-right-color,background-color;transition-duration:.15s;transition-timing-function:ease}button[data-v-d84e06d6]:hover{background-color:#4c4948}button[data-v-d84e06d6]:active,button[data-v-d84e06d6]:focus{background-color:#676260;border:1px solid #6b625d}button:active.l[data-v-d84e06d6],button:focus.l[data-v-d84e06d6]{border-right:1px solid #6b625d}button:active.r[data-v-d84e06d6],button:focus.r[data-v-d84e06d6]{border-left:1px solid #6b625d}input[data-v-d84e06d6]{width:3.5ex;color:#ebdbb2;font-weight:600;border-top:1px solid #504945;border-bottom:1px solid #504945}.l[data-v-d84e06d6]{border-right:1px solid #504945}.r[data-v-d84e06d6]{border-left:1px solid #504945}",""]),t.exports=r},530:function(t,e,n){"use strict";n(337)},531:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,".self-bar[data-v-7c97ca65]{min-height:3.5rem;max-height:3.5rem;height:3.5rem;font-size:.9rem;line-height:.9rem;background:#282828}.self-bar[data-v-7c97ca65] .badge .dot{border-color:#282828!important}.local-status[data-v-7c97ca65]{height:36px;justify-content:space-evenly}.local-part[data-v-7c97ca65]{font-weight:700}",""]),t.exports=r},534:function(t,e,n){"use strict";n(338)},535:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"#bonfire{position:absolute;width:100vw;height:100vh;overflow:hidden;left:0;top:0}",""]),t.exports=r},536:function(t,e,n){"use strict";n(339)},537:function(t,e,n){var r=n(11)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap);"]),r.push([t.i,"#bonfire{position:absolute;width:100vw;height:100vh;overflow:hidden;left:0;top:0}.header{z-index:2}.header-title{font-weight:800;font-size:1.2em;vertical-align:sub!important}.black--lighten{background-color:#32302f}",""]),t.exports=r},548:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(19),n(13),n(20);var r=n(0),o=(n(14),n(59),n(5)),c=n(34);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{AccordionItem:n(232).default},data:function(){return{expanded:0,menu:!1}},methods:{toggle:function(){this.expanded=(this.expanded+1)%2},getPresence:function(t){var e,n;return null===(e=this.presences)||void 0===e||null===(n=e[this.$stanza.toBare(t)])||void 0===n?void 0:n["_/computed"]}},computed:d(d(d({},Object(c.e)({roster:o.Store.$states.roster,presences:o.Store.$states.presences,pending:o.Store.$states.pending,activeState:o.Store.$states.activeChat})),Object(c.c)({presence:o.Store.$getters.presence})),{},{rosterItems:function(){var t;return(null===(t=this.roster)||void 0===t?void 0:t.items)||[]},selectedJid:function(){var t;return"chat"===(null===(t=this.activeState)||void 0===t?void 0:t.type)?this.activeState.entity:void 0},onlineItems:function(){var t=this;return{name:"Online",items:this.rosterItems.filter((function(i){var e;return"both"===i.subscription&&(null===(e=t.getPresence(i.jid))||void 0===e?void 0:e.available)}))}},offlineItems:function(){var t=this;return{name:"Offline",items:this.rosterItems.filter((function(i){var e;return!(null!==(e=t.getPresence(i.jid))&&void 0!==e&&e.available||i.pending)}))}},pendingItems:function(){return{name:"Pending",items:this.pending.map((function(p){return{jid:p}}))}},sentRequests:function(){return{name:"Sent Requests",items:this.rosterItems.filter((function(i){return"subscribe"===i.pending}))}},observers:function(){return{name:"Observers",items:this.rosterItems.filter((function(i){return"from"===i.subscription}))}},acquaintances:function(){var t=this;return{name:"Acquaintances",items:this.rosterItems.filter((function(i){var e;return"to"===i.subscription&&(null===(e=t.getPresence(i.jid))||void 0===e?void 0:e.available)}))}},items:function(){return[this.pendingItems,this.onlineItems,this.acquaintances,this.observers,this.offlineItems,this.sentRequests]}})},m=(n(427),n(9)),v=n(15),h=n.n(v),D=n(577),y=n(571),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar grey-100 d-flex flex-column"},[n("header-bar"),t._v(" "),n("div",{staticClass:"d-flex flex-grow-1 flex-column"},[n("accordion-item",{attrs:{header:"Roster",expanded:!t.expanded},on:{expanded:function(e){t.expanded=!t.expanded}}},[n("simplebar",{staticClass:"narrow-scrollbar"},[n("div",{staticClass:"d-flex flex-column mt-2"},[n("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"green"},on:{click:function(e){t.menu=!0}}},[t._v("Add Friend")])],1),t._v(" "),n("roster-list",{attrs:{pinned:[],items:t.items,"selected-jid":t.selectedJid}})],1)],1),t._v(" "),t.expanded?n("v-divider"):t._e(),t._v(" "),n("accordion-item",{staticStyle:{"z-index":"2"},attrs:{header:"Recent",expanded:!!t.expanded},on:{expanded:function(e){t.expanded=!t.expanded}}})],1),t._v(" "),n("self-bar",{staticStyle:{"z-index":"3"},attrs:{jid:t.$stanza.client.jid}}),t._v(" "),n("lazy-add-friend-modal",{model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}})],1)}),[],!1,null,"16ec8869",null);e.default=component.exports;h()(component,{HeaderBar:n(264).default,RosterList:n(549).default,AccordionItem:n(232).default,SelfBar:n(555).default}),h()(component,{VBtn:D.a,VDivider:y.a})},549:function(t,e,n){"use strict";n.r(e);var r=n(18),o=(n(13),n(59),n(14),n(353)),c=n(233),l={name:"RosterList",components:{PinnedItems:o.default,RosterSection:c.default},props:{pinned:{type:Array,optional:!0,default:[]},items:Array,selectedJid:String},computed:{selectedSectionsItems:function(){var t,e=this,n=[];return null===(t=this.items)||void 0===t||t.forEach((function(t){var o=t.items;return n.push(null==o?void 0:o.map((function(t,i){return[t,i]})).filter((function(t){var n=Object(r.a)(t,1)[0];return(null==n?void 0:n.jid)===e.selectedJid})).map((function(t){return Object(r.a)(t,2)[1]})))})),n}}},d=n(9),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("pinned-items",{attrs:{items:t.pinned,selected:t.selectedJid}}),t._v(" "),t._l(t.items,(function(e,i){return[e?n("roster-section",{key:i,attrs:{name:e.name,items:e.items,selected:t.selectedSectionsItems[i],pending:"Pending"===e.name}}):t._e()]}))],2)}),[],!1,null,"83e4edee",null);e.default=component.exports;installComponents(component,{RosterSection:n(233).default})},550:function(t,e,n){"use strict";n.r(e);n(24);var r={name:"DefaultAvatar",props:{size:Number,color:{type:String,optional:!0}}},o=n(9),c=n(15),l=n.n(c),d=n(227),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded-circle black",style:{height:t.size+"px",width:t.size+"px",backgroundColor:t.color+" !important"}},[n("v-icon",{staticClass:"w-100 h-100"},[t._v("mdi-account")])],1)}),[],!1,null,"701f2499",null);e.default=component.exports;l()(component,{VIcon:d.a})},551:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(0),o=n(354),c=n(355),l=n(5),d=n(34);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"RosterItem",components:{MenuRosterItem:o.default,PendingRosterItem:c.default},props:{item:{type:Object,required:!0},selected:{type:Boolean,required:!1,default:!1},approve:{type:Boolean,required:!1,default:!1},menu:{type:Boolean,required:!1,default:!0}},computed:m(m({},Object(d.c)({getPresence:l.Store.$getters.presence})),{},{name:function(){return JID.getLocal(this.item.jid)},domain:function(){return JID.getDomain(this.item.jid)},presence:function(){return this.getPresence(this.item.jid)},available:function(){var t;return null===(t=this.presence)||void 0===t?void 0:t.available},statusMessage:function(){var t;return null===(t=this.presence)||void 0===t?void 0:t.status},onlineStatus:function(){var t;return null===(t=this.presence)||void 0===t?void 0:t.show},statusColor:function(){switch(this.onlineStatus){case"xa":case"away":return"warning";case"dnd":return"error"}return this.available?!this.onlineStatus&&this.available?"success":void 0:"grey"}})},h=(n(503),n(9)),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.approve?n("pending-roster-item",{attrs:{selected:t.selected,item:t.item}}):t.menu?n("menu-roster-item",{attrs:{selected:t.selected,item:t.item}}):t._e()}),[],!1,null,"7bb584f2",null);e.default=component.exports},552:function(t,e,n){"use strict";n.r(e);var r={name:"Badge",props:{color:String,bordered:Boolean,borderColor:String}},o=(n(480),n(9)),component=Object(o.a)(r,(function(t,e){var n=e._c;return n("div",{staticClass:"badge-container",class:[e.data.class,e.data.staticClass],on:{click:function(t){e.listeners.click&&e.listeners.click(t)}}},[e._t("default"),e._v(" "),n("div",{staticClass:"badge-wrapper w-100 h-100"},[n("div",{staticClass:"badge",class:{dot:!e.$slots.badge}},[e._t("badge",[n("div",{staticClass:"dot",class:e.props.color,style:{borderColor:e.props.borderColor,borderStyle:e.props.bordered&&"solid"}})])],2)])],2)}),[],!0,null,"032806c4",null);e.default=component.exports},553:function(t,e,n){"use strict";n.r(e);n(24);var r=n(103);Object(r.b)("#app");var o={name:"roster-item-menu-tooltip",components:{Portal:r.a},props:{value:Boolean,attach:String|Object,jid:String,positionX:Number,positionY:Number},computed:{statusMenu:function(){var t=this;return[{title:"<b>".concat(this.$stanza.toBare(this.jid),"</b>"),color:"white",handler:function(){},mobile:!0},{divider:!0,mobile:!0},{title:"Remove Friend",color:"red",handler:function(){return t.$stanza.roster.deny(t.jid)}}]}},watch:{value:function(t){var e=this;this.$device.isMobileOrTablet&&t&&this.$nextTick((function(){e.$refs.bottomSheet.open(),e.$emit("input",!1)}))}}},c=n(9),l=n(15),d=n.n(l),f=n(571),m=n(227),v=n(228),h=n(151),D=n(54),y=n(572),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$device.isMobileOrTablet?n("portal",{attrs:{selector:"#bonfire"}},[n("bottom-sheet",{ref:"bottomSheet",staticClass:"position-relative",staticStyle:{"z-index":"50"},attrs:{items:t.statusMenu,divider:!1,"icon-size":"0.9em"}})],1):t.value?n("div",[n("v-menu",{attrs:{value:t.value,attach:t.attach,"max-width":"320px",transition:!1,absolute:"","position-x":t.positionX,"position-y":t.positionY,"z-index":"50"},on:{input:function(e){return t.$emit("input",e)}}},[n("v-list",{staticClass:"rounded",attrs:{dense:"",elevation:0,nav:""}},[t._l(t.statusMenu,(function(e,i){return[e.mobile?t._e():[e.divider?n("v-divider",{staticClass:"mx-4 my-2"}):n("v-list-item",{key:i,staticStyle:{"min-height":"32px !important"},attrs:{ripple:""},on:{click:e.handler}},[e.icon?n("v-icon",{staticClass:"mr-2",attrs:{color:e.color,size:"0.9em"}},[t._v(t._s(e.icon))]):t._e(),t._v(" "),n("v-list-item-title",{class:e.color+"--text",staticStyle:{"font-size":"14px"},domProps:{innerHTML:t._s(e.title)}})],1)]]}))],2)],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports;d()(component,{BottomSheet:n(265).default}),d()(component,{VDivider:f.a,VIcon:m.a,VList:v.a,VListItem:h.a,VListItemTitle:D.a,VMenu:y.a})},554:function(t,e,n){"use strict";n.r(e);var r={name:"ContractibleList",props:{title:{type:String,required:!0}},data:function(){return{contracted:!1,hover:!1}},computed:{chevronRotation:function(){return"rotate(".concat(this.contracted?0:90,"deg)")},colorClass:function(){return this.hover?"grey-900":"grey-700"}},methods:{contract:function(){this.contracted=!this.contracted,this.$emit(this.contracted?"contract":"expanded")},updateHover:function(){this.hover=!this.hover}}},o=n(9),c=n(15),l=n.n(c),d=n(571),f=n(227),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"w-100 d-flex clickable unselectable",on:{click:t.contract,mouseenter:t.updateHover,mouseleave:t.updateHover}},[t._t("header",[n("v-icon",{style:{transform:t.chevronRotation},attrs:{size:"12px",color:t.colorClass}},[t._v("mdi-chevron-right")]),t._v(" "),n("span",{staticClass:"ml-1 mr-3 overline",class:t.colorClass+"--text"},[t._v(t._s(t.title))]),t._v(" "),n("v-divider",{staticClass:"my-auto mr-2"})])],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.contracted,expression:"!contracted"}]},[t._t("default")],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.contracted,expression:"contracted"}]},[t._t("contracted")],2)])}),[],!1,null,null,null);e.default=component.exports;l()(component,{VDivider:d.a,VIcon:f.a})},555:function(t,e,n){"use strict";n.r(e);n(16),n(10),n(14),n(19),n(13),n(20);var r=n(0),o=n(34),c=n(5),l=n(103),d=n(234);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(l.b)("#app");var v={name:"SelfBar",components:{StatusMenuTooltip:d.default},props:{jid:String},data:function(){return{statusMenuTooltip:!1}},computed:m(m({},Object(o.e)({onlineStatus:c.Store.$states.onlineStatus,statusMessage:c.Store.$states.statusMessage})),{},{localPart:function(){return this.$stanza.getLocal(this.jid)},domainPart:function(){return this.$stanza.getDomain(this.jid)}}),methods:{changeStatus:function(t){}}},h=(n(530),n(9)),D=n(15),y=n.n(D),w=n(577),F=n(227),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-bar d-flex align-center px-3 white--text position-relative",attrs:{id:"self-bar"}},[n("badged-avatar",{attrs:{clickable:"",jid:t.jid,color:t.onlineStatus},on:{click:function(e){e.stopPropagation(),t.statusMenuTooltip=!0}}}),t._v(" "),n("status-menu-tooltip",{attrs:{attach:"#self-bar"},model:{value:t.statusMenuTooltip,callback:function(e){t.statusMenuTooltip=e},expression:"statusMenuTooltip"}}),t._v(" "),n("main",{staticClass:"d-flex flex-column hide-overflow ml-2 local-status flex-grow-1"},[n("span",{staticClass:"local-part"},[t._v(t._s(t.localPart))]),t._v(" "),n("span",{staticClass:"status-message hide-overflow grey-700--text"},[t._v(t._s(t.statusMessage||t.domainPart))])]),t._v(" "),n("aside",{staticClass:"ml-2"},[n("v-btn",{staticClass:"rounded",attrs:{nuxt:"",to:"/settings",icon:"",tile:"",medium:""}},[n("v-icon",{attrs:{color:"grey-900",size:"1.5em"}},[t._v("mdi-cog")])],1)],1)],1)}),[],!1,null,"7c97ca65",null);e.default=component.exports;y()(component,{BadgedAvatar:n(262).default,StatusMenuTooltip:n(234).default}),y()(component,{VBtn:w.a,VIcon:F.a})},70:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return y})),n.d(e,"mutations",(function(){return w})),n.d(e,"actions",(function(){return F})),n.d(e,"SettingsStore",(function(){return x}));n(48),n(25),n(36),n(58),n(38),n(10),n(60),n(67),n(42),n(16),n(14),n(19),n(13),n(20);var r=n(18),o=n(65),c=n(0),l=n(27),d=(n(35),n(177),n(37));function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h={sendTypingReceipts:"SEND_TYPING_RECEIPTS",messageReadReceipts:"MESSAGE_READ_RECEIPTS",activeChatReceipts:"ACTIVE_CHAT_RECEIPTS",resourcePriority:"RESOURCE_PRIORITY"},D={restoreUserSettings:"RESTORE_USER_SETTINGS"},y=function(){var t;return t={},Object(c.a)(t,h.activeChatReceipts,!1),Object(c.a)(t,h.messageReadReceipts,!0),Object(c.a)(t,h.sendTypingReceipts,!0),Object(c.a)(t,h.resourcePriority,1),t},w=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},function(t){for(var e={},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if("object"===Object(l.a)(t)){var c,d=m(r);try{var f=function(){var n=c.value,r="SET_".concat(n);e[r]=function(e,data){e[n]=data,t.setItem(n,JSON.stringify(data))}};for(d.s();!(c=d.n()).done;)f()}catch(t){d.e(t)}finally{d.f()}}else if("string"==typeof t){r.push(t);var v,h=m(r);try{var D=function(){var t=v.value,n="SET_".concat(t);e[n]=function(e,data){e[t]=data}};for(h.s();!(v=h.n()).done;)D()}catch(t){h.e(t)}finally{h.f()}}return e}.apply(void 0,[d.d].concat(Object(o.a)(Object.values(h))))),F=Object(c.a)({},D.restoreUserSettings,(function(t){var e=t.commit;for(var n in h){var o=Object(d.a)(h[n]),c=Object(r.a)(o,1)[0];void 0!==c&&e("SET_"+h[n],c)}})),x={namespace:"settings",$getters:{},$mutations:{setActiveChatReceipts:"SET_ACTIVE_CHAT_RECEIPTS",setMessageReadReceipts:"SET_MESSAGE_READ_RECEIPTS",setSendTypingReceipts:"SET_SEND_TYPING_RECEIPTS"},$actions:D,$states:h}},85:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return y})),n.d(e,"mutations",(function(){return w})),n.d(e,"actions",(function(){return F})),n.d(e,"getters",(function(){return x})),n.d(e,"XEPStore",(function(){return S}));n(48),n(36),n(58),n(38),n(10),n(60),n(67);var r=n(18),o=n(7),c=n(0),l=(n(63),n(25),n(42),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(49),n(68),n(95),new Map([["XEP-0045",function(t){var e=t.info.features,n=t.items;return e.includes("http://jabber.org/protocol/muc")||n.some((function(i){return i.info.features.includes("http://jabber.org/protocol/muc")}))}],["XEP-0163",function(t){return t.info.identities.some((function(i){return"pubsub"===i.category.toLocaleLowerCase()&&"pep"===i.type.toLocaleLowerCase()}))}],["XEP-0313",function(t){return t.info.features.some((function(t){return t.startsWith("urn:xmpp:mam")}))}],["XEP-0363",function(t){var e=t.info.features,n=t.items;return e.includes("urn:xmpp:http:upload")||n.some((function(i){return i.info.features.includes("urn:xmpp:http:upload")}))}],["XEP-0411",function(t){return t.self.features.includes("urn:xmpp:bookmarks-conversion:0")}],["XEP-0215",function(t){var e=t.info.features;return e.includes("urn:xmpp:extdisco:1")||e.includes("urn:xmpp:extdisco:2")}],["XEP-0065",function(t){var e=t.info.identities,n=t.items;return e.some((function(i){return"proxy"===i.category.toLocaleLowerCase()&&"bytestreams"===i.type.toLocaleLowerCase()}))||n.identities.some((function(i){return"proxy"===i.category.toLocaleLowerCase()&&"bytestreams"===i.type.toLocaleLowerCase()}))}],["XEP-0191",function(t){return t.info.features.includes("urn:xmpp:blocking")}],["TURN",function(t){return t.services.some((function(s){return"turn"===s.type.toLocaleLowerCase()}))}],["STUN",function(t){return t.services.some((function(s){return"stun"===s.type.toLocaleLowerCase()}))}],["XEP-0352",function(t){t.features}],["XEP-0280",function(t){var e=t.info.features;return e.includes("urn:xmpp:carbons:1")||e.includes("urn:xmpp:carbons:2")}],["XEP-0357",function(t){return t.self.features.includes("urn:xmpp:push:0")}]]));function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var m={server:"SERVER"},v={updateXepsWithDisco:"UPDATE_XEP_WITH_DISCO"},h={getServerXep:"GET_SERVER_XEP"},D={setServerXep:"SET_SERVER_XEP"},y=function(){return Object(c.a)({},m.server,{"XEP-0030":!1,"RFC 6121":!1,"XEP-0045":!1,"XEP-0163":!1,"XEP-0313":!1,"XEP-0363":!1,"XEP-0411":!1,"XEP-0215":!1,"XEP-0065":!1,"XEP-0191":!1,TURN:!1,STUN:!1,"XEP-0115":!1,"XEP-0198":!1,"XEP-0352":!1,"XEP-0280":!1,"XEP-0357":!1})},w=Object(c.a)({},D.setServerXep,(function(t,e){var n=e.xep,r=e.value;t[m.server][n]=!!r})),F=Object(c.a)({},v.updateXepsWithDisco,(function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,data,c,f,m,v,h,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.commit,n.prev=1,n.next=4,e.$stanza.serverDisco();case 4:data=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",o(D.setServerXep,{xep:"XEP-0030",value:!1}));case 10:o(D.setServerXep,{xep:"XEP-0030",value:!0}),c=d(l.entries());try{for(c.s();!(f=c.n()).done;)m=Object(r.a)(f.value,2),v=m[0],h=m[1],"boolean"==typeof(y=h(data))&&o(D.setServerXep,{xep:v,value:y})}catch(t){c.e(t)}finally{c.f()}case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))()})),x=Object(c.a)({},h.getServerXep,(function(t){return function(e){return t[m.server][e]}})),S={namespace:"xeps",$getters:h,$mutations:D,$actions:v,$states:m}},99:function(t,e,n){"use strict";n.r(e);var r=window.api,o={props:{light:Boolean,dark:Boolean},methods:{close:function(){r.close()},maximizeToggle:function(){r.maximizeToggle()},minimize:function(){r.minimize()}}},c=(n(403),n(9)),l=n(15),d=n.n(l),f=n(227),m=n(569),v=n(576),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-system-bar",{staticClass:"move-window pa-0 d-flex align-center",attrs:{light:t.light,dark:t.dark}},[n("p",{staticClass:"ma-0 brand"},[t._v("BONFIRE")]),t._v(" "),n("v-spacer"),t._v(" "),n("button",{on:{click:t.minimize}},[n("v-icon",[t._v("mdi-window-minimize")])],1),t._v(" "),n("button",{on:{click:t.maximizeToggle}},[n("v-icon",[t._v("mdi-window-maximize")])],1),t._v(" "),n("button",{staticClass:"close",on:{click:t.close}},[n("v-icon",[t._v("mdi-close")])],1)],1)}),[],!1,null,"d7ac1bda",null);e.default=component.exports;d()(component,{VIcon:f.a,VSpacer:m.a,VSystemBar:v.a})}},[[365,32,3,33]]]);